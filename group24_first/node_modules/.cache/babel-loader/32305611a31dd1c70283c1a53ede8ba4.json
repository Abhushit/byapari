{"ast":null,"code":"import { SET_DELETING_ITEM, SET_IS_LOADING, PRODUCT_RECEIVED, PRODUCT_REMOVED, PRODUCT_DETAILS_LOADED, SET_PRODUCTID, ADD_PRODUCT_BASKET, GET_NUMBERS_BASKET, INCREASE_QUANTITY, DECREASE_QUANTITY, CLEAR_PRODUCT, LOGOUT } from \"./../actions/products/type\";\nimport { productQuantity } from \"../actions/products/productActions\";\nconst initialState = {\n  isLoading: false,\n  productId: {},\n  products: [],\n  deletingItem: [],\n  basketNumbers: 0,\n  cartCost: 0,\n  quantity: 0,\n  inCart: false\n}; //TODO\n\nexport const productReducer = (state = initialState, action) => {\n  let productSelected = \"\";\n\n  switch (action.type) {\n    case ADD_PRODUCT_BASKET:\n      productSelected = action.payload;\n      productSelected.quantity += 1;\n      productSelected.inCart = true; // console.log(\"productSelected is>>\", productSelected);\n\n      return { ...state,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price,\n        inCart: true,\n        quantity: state.quantity + 1\n      };\n\n    case GET_NUMBERS_BASKET:\n      return { ...state\n      };\n\n    case INCREASE_QUANTITY:\n      productSelected = action.payload;\n      productSelected.quantity += 1;\n      console.log(\"product selected is>>\", productSelected);\n      return { ...state,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price\n      };\n\n    case DECREASE_QUANTITY:\n      let newCartCost = 0;\n      productSelected = action.payload;\n      let newBasketNum = 0; // productSelected.quantity === 0 ? productSelected.quantity = 0 : productSelected.quantity -= 1 ;\n\n      if (productSelected.quantity === 0) {\n        productSelected.quantity = 0;\n        newCartCost = state.cartCost;\n        newBasketNum = state.basketNumbers;\n      } else {\n        productSelected.quantity -= 1;\n        newCartCost = state.cartCost - productSelected.price;\n        newBasketNum = state.basketNumbers - 1;\n      } // console.log('product selected is>>',productSelected)\n\n\n      return { ...state,\n        basketNumbers: newBasketNum,\n        cartCost: newCartCost\n      };\n\n    case CLEAR_PRODUCT:\n      productSelected = action.payload;\n      let num = productSelected.quantity;\n      productSelected.quantity = 0;\n      productSelected.inCart = false;\n      return { ...state,\n        basketNumbers: state.basketNumbers - num,\n        cartCost: state.cartCost - num * productSelected.price\n      };\n\n    case PRODUCT_RECEIVED:\n      return { ...state,\n        products: action.payload\n      };\n\n    case SET_IS_LOADING:\n      return { ...state,\n        isLoading: action.payload\n      };\n\n    case SET_PRODUCTID:\n      return { ...state,\n        productId: action.payload\n      };\n\n    case SET_DELETING_ITEM:\n      return { ...state,\n        deletingItem: action.payload\n      };\n\n    case PRODUCT_REMOVED:\n      const products = state.products; // products.splice(action.payload, 1)\n\n      return { ...state.products.splice(action.payload, 1),\n        products: products\n      };\n\n    case PRODUCT_DETAILS_LOADED:\n      return { ...state,\n        products: action.payload\n      };\n\n    case LOGOUT:\n      localStorage.clear();\n      return { ...state\n      };\n\n    default:\n      return { ...state\n      };\n  }\n}; //the sole purpoose of reducer is to upadte store","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/reducers/product.reducer.js"],"names":["SET_DELETING_ITEM","SET_IS_LOADING","PRODUCT_RECEIVED","PRODUCT_REMOVED","PRODUCT_DETAILS_LOADED","SET_PRODUCTID","ADD_PRODUCT_BASKET","GET_NUMBERS_BASKET","INCREASE_QUANTITY","DECREASE_QUANTITY","CLEAR_PRODUCT","LOGOUT","productQuantity","initialState","isLoading","productId","products","deletingItem","basketNumbers","cartCost","quantity","inCart","productReducer","state","action","productSelected","type","payload","price","console","log","newCartCost","newBasketNum","num","splice","localStorage","clear"],"mappings":"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","sourcesContent":["import {\n  SET_DELETING_ITEM,\n  SET_IS_LOADING,\n  PRODUCT_RECEIVED,\n  PRODUCT_REMOVED,\n  PRODUCT_DETAILS_LOADED,\n  SET_PRODUCTID,\n  ADD_PRODUCT_BASKET,\n  GET_NUMBERS_BASKET,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  CLEAR_PRODUCT,\n  LOGOUT,\n} from \"./../actions/products/type\";\nimport { productQuantity } from \"../actions/products/productActions\";\n\nconst initialState = {\n  isLoading: false,\n  productId: {},\n  products: [],\n  deletingItem: [],\n  basketNumbers: 0,\n  cartCost: 0,\n  quantity: 0,\n  inCart: false\n};\n\n//TODO\nexport const productReducer = (state = initialState, action) => {\n  let productSelected = \"\";\n  switch (action.type) {\n    case ADD_PRODUCT_BASKET:\n      productSelected = action.payload;\n      productSelected.quantity += 1;\n      productSelected.inCart = true;\n      // console.log(\"productSelected is>>\", productSelected);\n\n      return {\n        ...state,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price,\n        inCart: true,\n        quantity: state.quantity + 1\n      };\n\n    case GET_NUMBERS_BASKET:\n      return {\n        ...state,\n      };\n\n    case INCREASE_QUANTITY:\n      productSelected = action.payload;\n      productSelected.quantity += 1;\n      console.log(\"product selected is>>\", productSelected);\n      return {\n        ...state,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price,\n      };\n\n    case DECREASE_QUANTITY:\n      let newCartCost = 0;\n      productSelected = action.payload;\n      let newBasketNum = 0;\n      // productSelected.quantity === 0 ? productSelected.quantity = 0 : productSelected.quantity -= 1 ;\n      if (productSelected.quantity === 0) {\n        productSelected.quantity = 0;\n        newCartCost = state.cartCost;\n        newBasketNum = state.basketNumbers;\n      } else {\n        productSelected.quantity -= 1;\n        newCartCost = state.cartCost - productSelected.price;\n        newBasketNum = state.basketNumbers - 1;\n      }\n      // console.log('product selected is>>',productSelected)\n      return {\n        ...state,\n        basketNumbers: newBasketNum,\n        cartCost: newCartCost,\n      };\n\n    case CLEAR_PRODUCT:\n      productSelected = action.payload;\n      let num = productSelected.quantity;\n      productSelected.quantity = 0;\n      productSelected.inCart = false;\n      return {\n        ...state,\n        basketNumbers: state.basketNumbers - num,\n        cartCost: state.cartCost - num * productSelected.price,\n      };\n\n    case PRODUCT_RECEIVED:\n      return {\n        ...state,\n        products: action.payload,\n      };\n\n    case SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    case SET_PRODUCTID:\n      return {\n        ...state,\n        productId: action.payload,\n      };\n\n    case SET_DELETING_ITEM:\n      return {\n        ...state,\n        deletingItem: action.payload,\n      };\n\n    case PRODUCT_REMOVED:\n      const products = state.products;\n      // products.splice(action.payload, 1)\n      return {\n        ...state.products.splice(action.payload, 1),\n        products: products,\n      };\n\n    case PRODUCT_DETAILS_LOADED:\n      return {\n        ...state,\n        products: action.payload,\n      };\n\n    case LOGOUT:\n      localStorage.clear();\n      return {\n        ...state,\n      };\n\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\n//the sole purpoose of reducer is to upadte store\n"]},"metadata":{},"sourceType":"module"}