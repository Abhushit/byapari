{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react_1/group24_first/src/components/products/productForm/productForm.component.js\";\nimport React, { Component } from \"react\";\nconst defaultForm = {\n  name: '',\n  category: '',\n  description: '',\n  brand: '',\n  color: '',\n  price: '',\n  weight: '',\n  discountedItem: '',\n  discountType: '',\n  discountValue: '',\n  tags: '',\n  images: '',\n  manuDate: '',\n  expiryDate: '',\n  modelNo: ''\n};\nexport class ProductForm extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      let {\n        type,\n        name,\n        value,\n        checked,\n        files\n      } = e.target;\n      console.log('target files', e.target.files);\n\n      if (type === \"checkbox\") {\n        value = checked;\n      }\n\n      this.setState(preState => ({\n        data: { ...preState.data,\n          [name]: value\n        }\n      }), () => {\n        this.validateForm(name);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.submitCallback(this.state.data);\n    };\n\n    this.state = {\n      data: { ...defaultForm\n      },\n      error: { ...defaultForm\n      },\n      isValidForm: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.product) {\n      this.setState({\n        data: { ...defaultForm,\n          ...this.props.product,\n          discountedItem: this.props.product.discount ? this.props.product.discount.discountedItem || false : \"\",\n          discountType: this.props.product.discount ? this.props.product.discount.discountType : \"\",\n          discountValue: this.props.product.discount ? this.props.product.discount.discountValue : \"\",\n          tags: this.props.product.tags ? this.props.product.tags.join(\",\") : \"\"\n        }\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {// console.log(\"called when either state chage or props change\");\n  }\n\n  validateForm(fieldName) {\n    let errMsg;\n\n    switch (fieldName) {\n      case \"category\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field*\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState(preState => ({\n      error: { ...preState.error,\n        [fieldName]: errMsg\n      }\n    }), () => {\n      let errors = Object.values(this.state.error).filter(err => err);\n      this.setState({\n        isValidForm: errors.length === 0\n      });\n    });\n  }\n\n  render() {\n    let btn = this.props.isSubmitting ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: true,\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, \"submitting...\") : /*#__PURE__*/React.createElement(\"button\", {\n      disabled: !this.state.isValidForm,\n      type: \"submit\",\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 7\n      }\n    }, \"submit\");\n    let discountContent = this.state.data.discountedItem ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, \"Discount Type\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Discount Type\",\n      name: \"discountType\",\n      value: this.state.data.discountType,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, \"Discount Value\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Discount Value\",\n      name: \"discountValue\",\n      value: this.state.data.discountValue,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    })) : '';\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }\n    }, this.props.title), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Name\",\n      name: \"name\",\n      value: this.state.data.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Description\",\n      name: \"description\",\n      value: this.state.data.description,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Category\",\n      name: \"category\",\n      value: this.state.data.category,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, this.state.error.category), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, \"Brand\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Brand\",\n      name: \"brand\",\n      value: this.state.data.brand,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      placeholder: \"Price\",\n      name: \"price\",\n      value: this.state.data.price,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, \"Color\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Color\",\n      name: \"color\",\n      value: this.state.data.color,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }\n    }, \"Model No\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Model No\",\n      name: \"modelNo\",\n      value: this.state.data.modelNo,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Manu. Date\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      name: \"manuDate\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, \"Expiry Date\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      className: \"form-control\",\n      name: \"expiryDate\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"Tags\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Tags\",\n      name: \"tags\",\n      value: this.state.data.tags,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, \"Weight\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Weight\",\n      name: \"weight\",\n      value: this.state.data.weight,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"discountedItem\",\n      checked: this.state.data.discountedItem,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 21\n      }\n    }, \"Discounted Item\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 21\n      }\n    }), discountContent, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"image\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }), btn));\n  }\n\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/products/productForm/productForm.component.js"],"names":["React","Component","defaultForm","name","category","description","brand","color","price","weight","discountedItem","discountType","discountValue","tags","images","manuDate","expiryDate","modelNo","ProductForm","constructor","handleChange","e","type","value","checked","files","target","console","log","setState","preState","data","validateForm","handleSubmit","preventDefault","props","submitCallback","state","error","isValidForm","componentDidMount","product","discount","join","componentDidUpdate","prevProps","prevState","fieldName","errMsg","errors","Object","values","filter","err","length","render","btn","isSubmitting","discountContent","title"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nconst defaultForm = {\n    name: '',\n    category: '',\n    description: '',\n    brand: '',\n    color: '',\n    price: '',\n    weight: '',\n    discountedItem: '',\n    discountType: '',\n    discountValue: '',\n    tags: '',\n    images: '',\n    manuDate: '',\n    expiryDate: '',\n    modelNo: ''\n\n};\n\nexport class ProductForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        ...defaultForm,\n      },\n      error: {\n        ...defaultForm,\n      },\n      isValidForm: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.product) {\n      this.setState({\n        data: {\n          ...defaultForm,\n          ...this.props.product,\n          discountedItem: this.props.product.discount\n            ? this.props.product.discount.discountedItem || false\n            : \"\",\n          discountType: this.props.product.discount\n            ? this.props.product.discount.discountType\n            : \"\",\n          discountValue: this.props.product.discount\n            ? this.props.product.discount.discountValue\n            : \"\",\n          tags: this.props.product.tags\n            ? this.props.product.tags.join(\",\")\n            : \"\",\n        },\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log(\"called when either state chage or props change\");\n  }\n\n  handleChange = (e) => {\n    let { type, name, value, checked,files } = e.target;\n    console.log('target files',e.target.files);\n    if (type === \"checkbox\") {\n      value = checked;\n    }\n    this.setState(\n      (preState) => ({\n        data: {\n          ...preState.data,\n          [name]: value,\n        },\n      }),\n      () => {\n        this.validateForm(name);\n      }\n    );\n  };\n  validateForm(fieldName) {\n    let errMsg;\n    switch (fieldName) {\n      case \"category\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field*\";\n        break;\n\n      default:\n        break;\n    }\n    this.setState(\n      (preState) => ({\n        error: {\n          ...preState.error,\n          [fieldName]: errMsg,\n        },\n      }),\n      () => {\n        let errors = Object.values(this.state.error).filter((err) => err);\n        this.setState({\n          isValidForm: errors.length === 0,\n        });\n      }\n    );\n  }\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.submitCallback(this.state.data);\n  };\n\n  render() {\n    let btn = this.props.isSubmitting ? (\n      <button disabled className=\"btn btn-info\">\n        submitting...\n      </button>\n    ) : (\n      <button\n        disabled={!this.state.isValidForm}\n        type=\"submit\"\n        className=\"btn btn-info\"\n      >\n        submit\n      </button>\n    );\n\n    let discountContent = this.state.data.discountedItem\n            ? <>\n                <label>Discount Type</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Discount Type\" name=\"discountType\" value={this.state.data.discountType} onChange={this.handleChange}></input>\n                <label>Discount Value</label>\n                <input type=\"text\" className=\"form-control\" placeholder=\"Discount Value\" name=\"discountValue\" value={this.state.data.discountValue} onChange={this.handleChange}></input>\n            </>\n            : '';\n\n\n    return (\n      <>\n        <h2>{this.props.title}</h2>\n        <form className=\"form-group\" onSubmit={this.handleSubmit}>\n        <label>Name</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Name\" name=\"name\" value={this.state.data.name} onChange={this.handleChange}></input>\n                    <label>Description</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Description\" name=\"description\" value={this.state.data.description} onChange={this.handleChange}></input>\n                    <label>Category</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Category\" name=\"category\" value={this.state.data.category} onChange={this.handleChange}></input>\n                    <p className=\"error\">{this.state.error.category}</p>\n                    <label>Brand</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Brand\" name=\"brand\" value={this.state.data.brand} onChange={this.handleChange}></input>\n                    <label>Price</label>\n                    <input type=\"number\" className=\"form-control\" placeholder=\"Price\" name=\"price\" value={this.state.data.price} onChange={this.handleChange}></input>\n                    <label>Color</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Color\" name=\"color\" value={this.state.data.color} onChange={this.handleChange}></input>\n                    <label>Model No</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Model No\" name=\"modelNo\" value={this.state.data.modelNo} onChange={this.handleChange}></input>\n                    <label>Manu. Date</label>\n                    <input type=\"date\" className=\"form-control\" name=\"manuDate\" onChange={this.handleChange}></input>\n                    <label>Expiry Date</label>\n                    <input type=\"date\" className=\"form-control\" name=\"expiryDate\" onChange={this.handleChange}></input>\n                    <label>Tags</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Tags\" name=\"tags\" value={this.state.data.tags} onChange={this.handleChange}></input>\n                    <label>Weight</label>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Weight\" name=\"weight\" value={this.state.data.weight} onChange={this.handleChange}></input>\n                    <input type=\"checkbox\" name=\"discountedItem\" checked={this.state.data.discountedItem} onChange={this.handleChange}></input>\n                    <label>Discounted Item</label>\n                    <br></br>\n                    {discountContent}\n\n                    <br />\n          <input type=\"file\" name=\"image\" onChange={this.handleChange} />\n          <br/>\n          {btn}\n        </form>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}