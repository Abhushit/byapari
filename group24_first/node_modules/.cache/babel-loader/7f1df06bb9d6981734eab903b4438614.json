{"ast":null,"code":"import _defineProperty from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import httpClient from\"../../util/httpClient\";import notify from\"../../util/notify\";import SubmitButton from\"../submitButton/submitButton.component\";import DetailsSingle from\"./detailsSingle.component\";import{connect}from\"react-redux\";import{fetchDetails_ac}from\"../../../actions/details/detailsActions\";var defaultForm={companyPhone:\"\",companyAddress:\"\",companyEmail:\"\",fbLink:\"\",instaLink:\"\",twitterLink:\"\"};var Details=/*#__PURE__*/function(_Component){_inherits(Details,_Component);var _super=_createSuper(Details);function Details(){var _this;_classCallCheck(this,Details);_this=_super.call(this);_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(function(preState){return{data:_objectSpread(_objectSpread({},preState.data),{},_defineProperty({},name,value))};},function(){_this.validateForm(name);});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({isSubmitting:true});httpClient.POST(\"/details\",_this.state.data).then(function(response){notify.showInfo(\"Details Added\");window.location.reload(false);}).catch(function(err){notify.handleError(err);}).finally(function(){_this.setState({isSubmitting:false});});};_this.state={data:_objectSpread({},defaultForm),error:_objectSpread({},defaultForm),isSubmitting:false,isValidForm:false,showComponent:false};return _this;}_createClass(Details,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({data:_objectSpread({},defaultForm)});}},{key:\"validateForm\",value:function validateForm(fieldName){var _this2=this;var errMsg;switch(fieldName){case\"companyEmail\":errMsg=this.state.data[fieldName]?\"\":\"Required Field\";break;case\"companyAddress\":errMsg=this.state.data[fieldName]?\"\":\"Required Field\";break;case\"companyPhone\":errMsg=this.state.data[fieldName]?\"\":\"Required Field\";break;default:break;}this.setState(function(preState){return{error:_objectSpread(_objectSpread({},preState.error),{},_defineProperty({},fieldName,errMsg))};},function(){var errors=Object.values(_this2.state.error).filter(function(err){return err;});_this2.setState({isValidForm:errors.length===0});});}},{key:\"render\",value:function render(){console.log('is valid foprm>>',this.state.isValidForm);var btn=this.state.isSubmitting?/*#__PURE__*/React.createElement(\"button\",{disabled:true,className:\"btn btn-info\"},\"submitting...\"):/*#__PURE__*/React.createElement(\"button\",{disabled:!this.state.isValidForm,type:\"submit\",className:\"btn btn-info\"},\"submit\");var detailHere=this.props.fetchDetails?/*#__PURE__*/React.createElement(\"div\",{className:\"com-details\"},/*#__PURE__*/React.createElement(DetailsSingle,null)):\"\";return/*#__PURE__*/React.createElement(\"div\",{className:\"container page-div\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Details :\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form-group\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"Company Address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"companyAddress\",placeholder:\"Enter Company's Address\",value:this.state.data.companyAddress,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},this.state.error.companyAddress),/*#__PURE__*/React.createElement(\"label\",null,\"Company Phone Number\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"companyPhone\",placeholder:\"Enter Company's Phone Number\",value:this.state.data.companyPhone,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},this.state.error.companyPhone),/*#__PURE__*/React.createElement(\"label\",null,\"Company Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"companyEmail\",placeholder:\"Enter Company's Email\",value:this.state.data.companyEmail,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},this.state.error.companyEmail),/*#__PURE__*/React.createElement(\"label\",null,\"Facebook Link\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"fbLink\",placeholder:\"Facebook Link\",value:this.state.data.fbLink,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Instagram Link\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"instaLink\",placeholder:\"Instagram Link\",value:this.state.data.instaLink,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Twitter Link\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"twitterLink\",placeholder:\"Twitter Link\",value:this.state.data.twitterLink,onChange:this.handleChange}),btn),/*#__PURE__*/React.createElement(\"div\",null,detailHere));}}]);return Details;}(Component);var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchDetails:function fetchDetails(){return dispatch(fetchDetails_ac());}};};export default connect(null,mapDispatchToProps)(Details);","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/common/details/details.component.js"],"names":["React","Component","httpClient","notify","SubmitButton","DetailsSingle","connect","fetchDetails_ac","defaultForm","companyPhone","companyAddress","companyEmail","fbLink","instaLink","twitterLink","Details","handleChange","e","target","name","value","setState","preState","data","validateForm","handleSubmit","preventDefault","isSubmitting","POST","state","then","response","showInfo","window","location","reload","catch","err","handleError","finally","error","isValidForm","showComponent","fieldName","errMsg","errors","Object","values","filter","length","console","log","btn","detailHere","props","fetchDetails","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport httpClient from \"../../util/httpClient\";\nimport notify from \"../../util/notify\";\nimport SubmitButton from \"../submitButton/submitButton.component\";\nimport DetailsSingle from \"./detailsSingle.component\";\nimport { connect } from \"react-redux\";\nimport { fetchDetails_ac } from \"../../../actions/details/detailsActions\";\n\nconst defaultForm = {\n  companyPhone: \"\",\n  companyAddress: \"\",\n  companyEmail: \"\",\n  fbLink: \"\",\n  instaLink: \"\",\n  twitterLink: \"\",\n};\n\nclass Details extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        ...defaultForm,\n      },\n      error: {\n        ...defaultForm,\n      },\n      isSubmitting: false,\n      isValidForm: false,\n      showComponent: false\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      data: {\n        ...defaultForm,\n      },\n    });\n  }\n\n  handleChange = (e) => {\n    let { name, value } = e.target;\n    this.setState(\n      (preState) => ({\n        data: {\n          ...preState.data,\n          [name]: value,\n        },\n      }),\n      () => {\n        this.validateForm(name);\n      }\n    );\n  };\n\n  validateForm(fieldName) {\n    let errMsg;\n    switch (fieldName) {\n      case \"companyEmail\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n      case \"companyAddress\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n      case \"companyPhone\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      default:\n        break;\n    }\n    this.setState(\n      (preState) => ({\n        error: {\n          ...preState.error,\n          [fieldName]: errMsg,\n        },\n      }),\n      () => {\n        let errors = Object.values(this.state.error).filter((err) => err);\n        this.setState({\n          isValidForm: errors.length === 0,\n        });\n      }\n    );\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({\n      isSubmitting: true,\n    });\n    httpClient\n      .POST(\"/details\", this.state.data)\n      .then((response) => {\n        notify.showInfo(\"Details Added\");\n        window.location.reload(false);\n      })\n      .catch((err) => {\n        notify.handleError(err);\n      })\n      .finally(() => {\n        this.setState({\n          isSubmitting: false,\n        });\n      });\n  };\n\n  render() {\n    console.log('is valid foprm>>', this.state.isValidForm);\n    let btn = this.state.isSubmitting ? (\n      <button disabled className=\"btn btn-info\">\n        submitting...\n      </button>\n    ) : (\n      <button\n        disabled={!this.state.isValidForm}\n        type=\"submit\"\n        className=\"btn btn-info\"\n      >\n        submit\n      </button>\n    );\n\n    let detailHere = this.props.fetchDetails ? (\n      <div className=\"com-details\">\n        <DetailsSingle />\n      </div>\n    ) : (\n      \"\"\n    );\n\n    return (\n      <div className=\"container page-div\">\n        <h1>Details :</h1>\n        <form className=\"form-group\" onSubmit={this.handleSubmit}>\n          <label>Company Address</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"companyAddress\"\n            placeholder=\"Enter Company's Address\"\n            value={this.state.data.companyAddress}\n            onChange={this.handleChange}\n          />\n          <p className=\"error\">{this.state.error.companyAddress}</p>\n          <label>Company Phone Number</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            name=\"companyPhone\"\n            placeholder=\"Enter Company's Phone Number\"\n            value={this.state.data.companyPhone}\n            onChange={this.handleChange}\n          />\n          <p className=\"error\">{this.state.error.companyPhone}</p>\n\n          <label>Company Email</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"companyEmail\"\n            placeholder=\"Enter Company's Email\"\n            value={this.state.data.companyEmail}\n            onChange={this.handleChange}\n          />\n          <p className=\"error\">{this.state.error.companyEmail}</p>\n\n          <label>Facebook Link</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"fbLink\"\n            placeholder=\"Facebook Link\"\n            value={this.state.data.fbLink}\n            onChange={this.handleChange}\n          />\n          <label>Instagram Link</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"instaLink\"\n            placeholder=\"Instagram Link\"\n            value={this.state.data.instaLink}\n            onChange={this.handleChange}\n          />\n          <label>Twitter Link</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            name=\"twitterLink\"\n            placeholder=\"Twitter Link\"\n            value={this.state.data.twitterLink}\n            onChange={this.handleChange}\n          />\n          {btn}\n        </form>\n        <div>\n          {detailHere}\n          </div>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchDetails: () => dispatch(fetchDetails_ac()),\n});\n\nexport default connect(null, mapDispatchToProps)(Details);\n"]},"metadata":{},"sourceType":"module"}