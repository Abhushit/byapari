{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react_1/group24_first/src/components/products/editProduct/editProduct.component.js\";\nimport React, { Component } from 'react';\nimport httpClient from '../../util/httpClient';\nimport notify from '../../util/notify';\nimport Loader from '../../common/loader/loader.component';\nimport { ProductForm } from '../productForm/productForm.component';\nexport class EditProduct extends Component {\n  constructor() {\n    super();\n\n    this.update = (data, files) => {\n      // console.log('update product',data);\n      httpClient.UPLOAD('PUT', `/product/${this.productId}`, data, files).then(data => {\n        notify.showInfo('Product Updated Successfully');\n        this.props.history.push('/view_product');\n      }).catch(err => {\n        notify.handleError(err);\n      });\n    };\n\n    this.state = {\n      isLoading: false,\n      product: ''\n    };\n  }\n\n  componentDidMount() {\n    this.productId = this.props.match.params['id'];\n    this.setState({\n      isLoading: true\n    });\n    httpClient.GET(`/product/${this.productId}`, true).then(response => {\n      console.log('response is >>>>', response.data.ratings.ratingMsg);\n      this.setState({\n        product: response.data\n      });\n    }).catch(err => {\n      notify.handleError(err);\n    }).finally(() => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    let content = this.state.isLoading ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProductForm, {\n      title: \"Edit Product\",\n      submitCallback: this.update,\n      product: this.state.product,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }));\n    return content;\n  }\n\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/products/editProduct/editProduct.component.js"],"names":["React","Component","httpClient","notify","Loader","ProductForm","EditProduct","constructor","update","data","files","UPLOAD","productId","then","showInfo","props","history","push","catch","err","handleError","state","isLoading","product","componentDidMount","match","params","setState","GET","response","console","log","ratings","ratingMsg","finally","render","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,SAASC,WAAT,QAA4B,sCAA5B;AAIA,OAAO,MAAMC,WAAN,SAA0BL,SAA1B,CAAmC;AACtCM,EAAAA,WAAW,GAAE;AACT;;AADS,SA8BbC,MA9Ba,GA8BJ,CAACC,IAAD,EAAMC,KAAN,KAAe;AACpB;AACAR,MAAAA,UAAU,CAACS,MAAX,CAAkB,KAAlB,EAAyB,YAAW,KAAKC,SAAU,EAAnD,EAAqDH,IAArD,EAA0DC,KAA1D,EACKG,IADL,CACUJ,IAAI,IAAI;AACVN,QAAAA,MAAM,CAACW,QAAP,CAAgB,8BAAhB;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,eAAxB;AACH,OAJL,EAKKC,KALL,CAKWC,GAAG,IAAI;AACVhB,QAAAA,MAAM,CAACiB,WAAP,CAAmBD,GAAnB;AACH,OAPL;AAQH,KAxCY;;AAET,SAAKE,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,KADF;AAETC,MAAAA,OAAO,EAAE;AAFA,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAE;AACf,SAAKZ,SAAL,GAAiB,KAAKG,KAAL,CAAWU,KAAX,CAAiBC,MAAjB,CAAwB,IAAxB,CAAjB;AACA,SAAKC,QAAL,CAAc;AACVL,MAAAA,SAAS,EAAE;AADD,KAAd;AAGApB,IAAAA,UAAU,CAAC0B,GAAX,CAAgB,YAAW,KAAKhB,SAAU,EAA1C,EAA4C,IAA5C,EACKC,IADL,CACUgB,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,QAAQ,CAACpB,IAAT,CAAcuB,OAAd,CAAsBC,SAAtD;AACA,WAAKN,QAAL,CAAc;AACVJ,QAAAA,OAAO,EAAEM,QAAQ,CAACpB;AADR,OAAd;AAGH,KANL,EAOKS,KAPL,CAOWC,GAAG,IAAI;AACVhB,MAAAA,MAAM,CAACiB,WAAP,CAAmBD,GAAnB;AACH,KATL,EAUKe,OAVL,CAUa,MAAM;AACX,WAAKP,QAAL,CAAc;AACVL,QAAAA,SAAS,EAAE;AADD,OAAd;AAGH,KAdL;AAeH;;AAcDa,EAAAA,MAAM,GAAE;AACJ,QAAIC,OAAO,GAAG,KAAKf,KAAL,CAAWC,SAAX,gBACd,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADc,gBAGd,uDACI,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAC,cAAnB;AAAkC,MAAA,cAAc,EAAE,KAAKd,MAAvD;AAA+D,MAAA,OAAO,EAAE,KAAKa,KAAL,CAAWE,OAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAHA;AAMA,WAAOa,OAAP;AACH;;AAnDqC","sourcesContent":["import React, { Component } from 'react'\nimport httpClient from '../../util/httpClient';\nimport notify from '../../util/notify';\nimport Loader from '../../common/loader/loader.component';\nimport { ProductForm } from '../productForm/productForm.component';\n\n\n\nexport class EditProduct extends Component{\n    constructor(){\n        super();\n        this.state = {\n            isLoading: false,\n            product: ''\n        }\n    }\n    \n    componentDidMount(){\n        this.productId = this.props.match.params['id'];\n        this.setState({\n            isLoading: true\n        })\n        httpClient.GET(`/product/${this.productId}`,true)\n            .then(response => {\n                console.log('response is >>>>', response.data.ratings.ratingMsg);\n                this.setState({\n                    product: response.data\n                })\n            })\n            .catch(err => {\n                notify.handleError(err);\n            })\n            .finally(() => {\n                this.setState({\n                    isLoading: false\n                })\n            })\n    }\n\n    update = (data,files) =>{\n        // console.log('update product',data);\n        httpClient.UPLOAD('PUT',`/product/${this.productId}`,data,files)\n            .then(data => {\n                notify.showInfo('Product Updated Successfully');\n                this.props.history.push('/view_product');\n            })\n            .catch(err => {\n                notify.handleError(err);\n            })\n    }\n\n    render(){\n        let content = this.state.isLoading ?\n        <Loader />\n        : \n        <>\n            <ProductForm title=\"Edit Product\" submitCallback={this.update} product={this.state.product} />\n        </>\n        return content;\n    }\n}"]},"metadata":{},"sourceType":"module"}