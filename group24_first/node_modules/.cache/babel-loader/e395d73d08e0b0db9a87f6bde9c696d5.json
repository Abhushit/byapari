{"ast":null,"code":"import _classCallCheck from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import Loader from\"../../common/loader/loader.component\";import{Icon}from\"@iconify/react\";import editFilled from\"@iconify/icons-ant-design/edit-filled\";import closeSquareFilled from\"@iconify/icons-ant-design/close-square-filled\";import\"./viewProduct.component.css\";import DateUtil from\"./../../util/dateUtil\";import{connect}from'react-redux';import{fetchProduct_ac,removeItem_ac}from'./../../../actions/products/productActions';var imgURL=process.env.REACT_APP_IMG_URL;var ViewProduct=/*#__PURE__*/function(_Component){_inherits(ViewProduct,_Component);var _super=_createSuper(ViewProduct);function ViewProduct(){_classCallCheck(this,ViewProduct);return _super.apply(this,arguments);}_createClass(ViewProduct,[{key:\"componentDidMount\",// constructor() {\n//   super();\n//   // this.state = {\n//   //   // isLoading: false,\n//   //   // products: [],\n//   //   deletingItem: []\n//   // };\n// }\nvalue:function componentDidMount(){console.log('Check props now',this.props);// if(this.props.incomingData){\n//   return this.setState({\n//     products: this.props.incomingData\n//   }) \n// }\nthis.fetchData();}},{key:\"fetchData\",value:function fetchData(args){this.props.fetch();}},{key:\"edit\",value:function edit(id){// console.log('history of props>>',this.props.history);\nthis.props.history.push(\"/edit_product/\".concat(id));}},{key:\"remove\",value:function remove(item,index){var products=this.props.products;products.find(function(product){return product._id===item._id;}).$$isDeleting=true;// eslint-disable-next-line no-restricted-globals\nvar confirmation=confirm(\"Are you sure to remove?\");if(confirmation){this.props.removeItem(item,index);}}},{key:\"render\",value:function render(){var _this=this;var content=this.props.isLoading?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"View Products\"),this.props.incomingData&&/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.props.resetSearch},\"Search Again\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"S.N\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Featured\"),/*#__PURE__*/React.createElement(\"th\",null,\"Brand\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",null,\"Created Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Created Time\"),/*#__PURE__*/React.createElement(\"th\",null,\"Images\"),/*#__PURE__*/React.createElement(\"th\",null,\"Actions\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.props.products.length>0&&this.props.products.map(function(item,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(Link,{to:\"product_details/\".concat(item._id)},item.name)),/*#__PURE__*/React.createElement(\"td\",null,item.featuredProduct?'yes':'no'),/*#__PURE__*/React.createElement(\"td\",null,item.brand),/*#__PURE__*/React.createElement(\"td\",null,item.category),/*#__PURE__*/React.createElement(\"td\",null,DateUtil.formateDate(item.createdAt)),/*#__PURE__*/React.createElement(\"td\",null,DateUtil.formateTime(item.createdAt)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(imgURL,\"/\").concat(item.images[0]),alt:\"product_img.jpg\",width:\"150px\",height:\"150px\"})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn-icons\",title:\"edit\",onClick:function onClick(){return _this.edit(item._id);}},/*#__PURE__*/React.createElement(Icon,{icon:editFilled,color:\"lightblue\"})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn-icons\",title:\"delete\",onClick:function onClick(){return _this.remove(item,index);}},/*#__PURE__*/React.createElement(Icon,{icon:closeSquareFilled,color:\"red\"})),item.$$isDeleting&&/*#__PURE__*/React.createElement(Loader,null)));}))));return content;}}]);return ViewProduct;}(Component);//what comes in\n//the key defined here will be present in props of the component\nvar mapStateToProps=function mapStateToProps(store){return{products:store.product.products,isLoading:store.product.isLoading,deletingItem:store.product.deletingItem};};//what goes out\nvar mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetch:function fetch(){return dispatch(fetchProduct_ac());},removeItem:function removeItem(item,index){return dispatch(removeItem_ac(item,index));}};};//when connection props are defined from mapStateToProps and mapDispatchToProps\nexport default connect(mapStateToProps,mapDispatchToProps)(ViewProduct);","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/products/viewProduct/viewProduct.component.js"],"names":["React","Component","Link","Loader","Icon","editFilled","closeSquareFilled","DateUtil","connect","fetchProduct_ac","removeItem_ac","imgURL","process","env","REACT_APP_IMG_URL","ViewProduct","console","log","props","fetchData","args","fetch","id","history","push","item","index","products","find","product","_id","$$isDeleting","confirmation","confirm","removeItem","content","isLoading","incomingData","resetSearch","length","map","name","featuredProduct","brand","category","formateDate","createdAt","formateTime","images","edit","remove","mapStateToProps","store","deletingItem","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Loader from \"../../common/loader/loader.component\";\nimport { Icon } from \"@iconify/react\";\nimport editFilled from \"@iconify/icons-ant-design/edit-filled\";\nimport closeSquareFilled from \"@iconify/icons-ant-design/close-square-filled\";\nimport \"./viewProduct.component.css\";\nimport DateUtil from \"./../../util/dateUtil\";\nimport {connect} from 'react-redux';\nimport {fetchProduct_ac, removeItem_ac} from './../../../actions/products/productActions'\n\nconst imgURL = process.env.REACT_APP_IMG_URL;\n\nclass ViewProduct extends Component {\n  // constructor() {\n  //   super();\n  //   // this.state = {\n  //   //   // isLoading: false,\n  //   //   // products: [],\n  //   //   deletingItem: []\n\n  //   // };\n  // }\n\n  componentDidMount() {\n    console.log('Check props now', this.props);\n    // if(this.props.incomingData){\n    //   return this.setState({\n    //     products: this.props.incomingData\n    //   }) \n    // }\n    this.fetchData();\n  }\n\n  fetchData(args){\n    this.props.fetch();\n  }\n\n\n  edit(id) {\n    // console.log('history of props>>',this.props.history);\n    this.props.history.push(`/edit_product/${id}`);\n  }\n\n  remove(item, index) {\n    const { products } = this.props;\n    products.find(product => product._id === item._id).$$isDeleting = true;\n    // eslint-disable-next-line no-restricted-globals\n    let confirmation = confirm(\"Are you sure to remove?\");\n    if (confirmation) {\n      this.props.removeItem(item, index);\n    }\n  }\n\n  render() {\n    let content = this.props.isLoading ? (\n      <Loader />\n    ) : (\n      <>\n        <h2>View Products</h2>\n        {this.props.incomingData && (\n         <button className=\"btn btn-success\" onClick={this.props.resetSearch}>Search Again</button>\n        )}\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>S.N</th>\n              <th>Name</th>\n              <th>Featured</th>\n              <th>Brand</th>\n              <th>Category</th>\n              <th>Created Date</th>\n              <th>Created Time</th>\n              <th>Images</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {this.props.products.length>0 && this.props.products.map((item, index) => (\n              <tr key={index}>\n                <td>{index + 1}</td>\n                <td>\n                  <Link to={`product_details/${item._id}`}>{item.name}</Link>\n                </td>\n                <td>{item.featuredProduct ? 'yes' : 'no'}</td>\n                <td>{item.brand}</td>\n                <td>{item.category}</td>\n                <td>{DateUtil.formateDate(item.createdAt)}</td>\n                <td>{DateUtil.formateTime(item.createdAt)}</td>\n                <td>\n                  \n                  <img\n                    src={`${imgURL}/${item.images[0]}`}\n                    alt=\"product_img.jpg\"\n                    width=\"150px\"\n                    height=\"150px\"\n                  />\n                </td>\n                <td>\n                  <button\n                    className=\"btn-icons\"\n                    title=\"edit\"\n                    onClick={() => this.edit(item._id)}\n                  >\n                    <Icon icon={editFilled} color=\"lightblue\" />\n                  </button>\n\n                  <button\n                    className=\"btn-icons\"\n                    title=\"delete\"\n                    onClick={() => this.remove(item, index)}\n                  >\n                    <Icon icon={closeSquareFilled} color=\"red\" />\n                  </button>\n                  {item.$$isDeleting && <Loader /> }\n                  {/* {this.props.deletingItem.indexOf(item._id) >= 0 && (<p>deleting...</p>)} */}\n                  {/* {item.deletingItem && <Loader />} */}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </>\n    );\n    return content;\n  }\n}\n\n//what comes in\n//the key defined here will be present in props of the component\nconst mapStateToProps = store => ({\n  products:store.product.products,\n  isLoading: store.product.isLoading,\n  deletingItem: store.product.deletingItem\n})\n\n\n//what goes out\nconst mapDispatchToProps = dispatch => ({\n  fetch: () => dispatch(fetchProduct_ac()),\n  removeItem: (item,index) => dispatch(removeItem_ac(item,index))\n})\n\n//when connection props are defined from mapStateToProps and mapDispatchToProps\nexport default connect(mapStateToProps,mapDispatchToProps)(ViewProduct);\n"]},"metadata":{},"sourceType":"module"}