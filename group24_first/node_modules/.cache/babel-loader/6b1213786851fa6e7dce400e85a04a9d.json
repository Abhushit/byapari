{"ast":null,"code":"import _objectSpread from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{SET_DELETING_ITEM,SET_IS_LOADING,PRODUCT_RECEIVED,PRODUCT_REMOVED,PRODUCT_DETAILS_LOADED,SET_PRODUCTID,ADD_PRODUCT_BASKET,GET_NUMBERS_BASKET,INCREASE_QUANTITY,DECREASE_QUANTITY,CLEAR_PRODUCT,LOGOUT}from\"./../actions/products/type\";// import { productQuantity } from \"../actions/products/productActions\";\nvar initialState={isLoading:false,productId:{},products:[],deletingItem:[],basketNumbers:0,cartCost:0// inCart: false\n};//TODO\nexport var productReducer=function productReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var productSelected=\"\";switch(action.type){case ADD_PRODUCT_BASKET:productSelected=action.payload;productSelected.quantity+=1;productSelected.inCart=true;// console.log(\"productSelected is>>\", productSelected);\nreturn _objectSpread(_objectSpread(_objectSpread({},state),state.products),{},{basketNumbers:state.basketNumbers+1,cartCost:state.cartCost+productSelected.price// products: {\n//   ...state.products,\n//   [action.payload]: productSelected\n// }\n});case GET_NUMBERS_BASKET:return _objectSpread({},state);case INCREASE_QUANTITY:productSelected=action.payload;productSelected.quantity+=1;console.log(\"product selected is>>\",productSelected);return _objectSpread(_objectSpread({},state),{},{basketNumbers:state.basketNumbers+1,cartCost:state.cartCost+productSelected.price});case DECREASE_QUANTITY:var newCartCost=0;productSelected=action.payload;var newBasketNum=0;// productSelected.quantity === 0 ? productSelected.quantity = 0 : productSelected.quantity -= 1 ;\nif(productSelected.quantity===0){productSelected.quantity=0;newCartCost=state.cartCost;newBasketNum=state.basketNumbers;}else{productSelected.quantity-=1;newCartCost=state.cartCost-productSelected.price;newBasketNum=state.basketNumbers-1;}// console.log('product selected is>>',productSelected)\nreturn _objectSpread(_objectSpread({},state),{},{basketNumbers:newBasketNum,cartCost:newCartCost});case CLEAR_PRODUCT:productSelected=action.payload;var num=productSelected.quantity;productSelected.quantity=0;productSelected.inCart=false;return _objectSpread(_objectSpread({},state),{},{basketNumbers:state.basketNumbers-num,cartCost:state.cartCost-num*productSelected.price});case PRODUCT_RECEIVED:return _objectSpread(_objectSpread({},state),{},{products:action.payload});case SET_IS_LOADING:return _objectSpread(_objectSpread({},state),{},{isLoading:action.payload});case SET_PRODUCTID:return _objectSpread(_objectSpread({},state),{},{productId:action.payload});case SET_DELETING_ITEM:return _objectSpread(_objectSpread({},state),{},{deletingItem:action.payload});case PRODUCT_REMOVED:var products=state.products;// products.splice(action.payload, 1)\nreturn _objectSpread(_objectSpread({},state.products.splice(action.payload,1)),{},{products:products});case PRODUCT_DETAILS_LOADED:return _objectSpread(_objectSpread({},state),{},{products:action.payload});case LOGOUT:localStorage.clear();return _objectSpread({},state);default:return _objectSpread({},state);}};//the sole purpoose of reducer is to upadte store","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/reducers/product.reducer.js"],"names":["SET_DELETING_ITEM","SET_IS_LOADING","PRODUCT_RECEIVED","PRODUCT_REMOVED","PRODUCT_DETAILS_LOADED","SET_PRODUCTID","ADD_PRODUCT_BASKET","GET_NUMBERS_BASKET","INCREASE_QUANTITY","DECREASE_QUANTITY","CLEAR_PRODUCT","LOGOUT","initialState","isLoading","productId","products","deletingItem","basketNumbers","cartCost","productReducer","state","action","productSelected","type","payload","quantity","inCart","price","console","log","newCartCost","newBasketNum","num","splice","localStorage","clear"],"mappings":"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","sourcesContent":["import {\n  SET_DELETING_ITEM,\n  SET_IS_LOADING,\n  PRODUCT_RECEIVED,\n  PRODUCT_REMOVED,\n  PRODUCT_DETAILS_LOADED,\n  SET_PRODUCTID,\n  ADD_PRODUCT_BASKET,\n  GET_NUMBERS_BASKET,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  CLEAR_PRODUCT,\n  LOGOUT,\n} from \"./../actions/products/type\";\n// import { productQuantity } from \"../actions/products/productActions\";\n\nconst initialState = {\n  isLoading: false,\n  productId: {},\n  products: [],\n  deletingItem: [],\n  basketNumbers: 0,\n  cartCost: 0,\n  // inCart: false\n};\n\n//TODO\nexport const productReducer = (state = initialState, action) => {\n  let productSelected = \"\";\n  switch (action.type) {\n    case ADD_PRODUCT_BASKET:\n      productSelected = action.payload\n      productSelected.quantity += 1;\n      productSelected.inCart = true;\n      // console.log(\"productSelected is>>\", productSelected);\n      \n      return {\n        ...state,\n        ...state.products,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price,\n        \n        // products: {\n        //   ...state.products,\n        //   [action.payload]: productSelected\n        // }\n      }\n\n    case GET_NUMBERS_BASKET:\n      return {\n        ...state,\n      };\n\n    case INCREASE_QUANTITY:\n      productSelected = action.payload;\n      productSelected.quantity += 1;\n      console.log(\"product selected is>>\", productSelected);\n      return {\n        ...state,\n        basketNumbers: state.basketNumbers + 1,\n        cartCost: state.cartCost + productSelected.price,\n      };\n\n    case DECREASE_QUANTITY:\n      let newCartCost = 0;\n      productSelected = action.payload;\n      let newBasketNum = 0;\n      // productSelected.quantity === 0 ? productSelected.quantity = 0 : productSelected.quantity -= 1 ;\n      if (productSelected.quantity === 0) {\n        productSelected.quantity = 0;\n        newCartCost = state.cartCost;\n        newBasketNum = state.basketNumbers;\n      } else {\n        productSelected.quantity -= 1;\n        newCartCost = state.cartCost - productSelected.price;\n        newBasketNum = state.basketNumbers - 1;\n      }\n      // console.log('product selected is>>',productSelected)\n      return {\n        ...state,\n        basketNumbers: newBasketNum,\n        cartCost: newCartCost,\n      };\n\n    case CLEAR_PRODUCT:\n      productSelected = action.payload;\n      let num = productSelected.quantity;\n      productSelected.quantity = 0;\n      productSelected.inCart = false;\n      return {\n        ...state,\n        basketNumbers: state.basketNumbers - num,\n        cartCost: state.cartCost - num * productSelected.price,\n      };\n\n    case PRODUCT_RECEIVED:\n\n      return {\n        ...state,\n        products: action.payload,\n      };\n\n    case SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n\n    case SET_PRODUCTID:\n      return {\n        ...state,\n        productId: action.payload,\n      };\n\n    case SET_DELETING_ITEM:\n      return {\n        ...state,\n        deletingItem: action.payload,\n      };\n\n    case PRODUCT_REMOVED:\n      const products = state.products;\n      // products.splice(action.payload, 1)\n      return {\n        ...state.products.splice(action.payload, 1),\n        products: products,\n      };\n\n    case PRODUCT_DETAILS_LOADED:\n      return {\n        ...state,\n        products: action.payload,\n      };\n\n    case LOGOUT:\n      localStorage.clear();\n      return {\n        ...state,\n      };\n\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\n//the sole purpoose of reducer is to upadte store\n"]},"metadata":{},"sourceType":"module"}