{"ast":null,"code":"import{createStore,applyMiddleware,compose}from'redux';import{rootReducer}from'./reducers';import thunk from'redux-thunk';//in futurte we will add many middlewares\nvar middlewares=[thunk];var initialState={product:{products:[],deletingItem:[],isLoading:false,basketNumbers:0,cartCost:0},detail:{details:[]}};var localStorageMiddleware=function localStorageMiddleware(_ref){var getState=_ref.getState;return function(next){return function(action){var result=next(action);localStorage.setItem('state',JSON.stringify(getState()));return result;};};};var reHydrateStore=function reHydrateStore(){var data=localStorage.getItem('state');if(data){return JSON.parse(data);}return undefined;};var composeEnhancer=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||compose;export var store=createStore(rootReducer,reHydrateStore(),composeEnhancer(applyMiddleware.apply(void 0,middlewares.concat([localStorageMiddleware]))));//function as an reducer\n//initialState\n//enhancer , middlewares","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/store.js"],"names":["createStore","applyMiddleware","compose","rootReducer","thunk","middlewares","initialState","product","products","deletingItem","isLoading","basketNumbers","cartCost","detail","details","localStorageMiddleware","getState","next","action","result","localStorage","setItem","JSON","stringify","reHydrateStore","data","getItem","parse","undefined","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store"],"mappings":"AAAA,OAAQA,WAAR,CAAqBC,eAArB,CAAsCC,OAAtC,KAAoD,OAApD,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAG,CAACD,KAAD,CAApB,CACA,GAAME,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,CACLC,QAAQ,CAAE,EADL,CAELC,YAAY,CAAE,EAFT,CAGLC,SAAS,CAAE,KAHN,CAILC,aAAa,CAAE,CAJV,CAKLC,QAAQ,CAAE,CALL,CADQ,CAQjBC,MAAM,CAAE,CACJC,OAAO,CAAE,EADL,CARS,CAArB,CAcA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CAC3C,MAAO,UAAAC,IAAI,QAAI,UAAAC,MAAM,CAAI,CACzB,GAAMC,CAAAA,MAAM,CAAGF,IAAI,CAACC,MAAD,CAAnB,CAEIE,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeP,QAAQ,EAAvB,CAA9B,EACJ,MAAOG,CAAAA,MAAP,CACH,CALc,EAAX,CAOH,CARD,CAUA,GAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CACzB,GAAMC,CAAAA,IAAI,CAAGL,YAAY,CAACM,OAAb,CAAqB,OAArB,CAAb,CACA,GAAID,IAAJ,CAAU,CACN,MAAOH,CAAAA,IAAI,CAACK,KAAL,CAAWF,IAAX,CAAP,CACH,CACD,MAAOG,CAAAA,SAAP,CACH,CAND,CASA,GAAMC,CAAAA,eAAe,CAAGC,MAAM,CAACC,oCAAP,EAA+C7B,OAAvE,CACA,MAAO,IAAM8B,CAAAA,KAAK,CAAGhC,WAAW,CAACG,WAAD,CAAaqB,cAAc,EAA3B,CAA8BK,eAAe,CAAC5B,eAAe,MAAf,QAAmBI,WAAnB,SAA+BU,sBAA/B,GAAD,CAA7C,CAAzB,CACP;AACA;AACA","sourcesContent":["import {createStore, applyMiddleware, compose} from 'redux';\nimport { rootReducer } from './reducers';\nimport thunk from 'redux-thunk';\n\n//in futurte we will add many middlewares\nconst middlewares = [thunk];\nconst initialState = {\n    product: {\n        products: [],\n        deletingItem: [],\n        isLoading: false,\n        basketNumbers: 0,\n        cartCost: 0,\n    },\n    detail: {\n        details: []\n    }\n\n};\n\nconst localStorageMiddleware = ({getState}) => {\n    return next => action => {\n    const result = next(action);\n   \n        localStorage.setItem('state', JSON.stringify(getState()))\n    return result;\n};\n    \n}\n\nconst reHydrateStore = () => {\n    const data = localStorage.getItem('state');\n    if (data) {\n        return JSON.parse(data);\n    }\n    return undefined;\n}\n\n\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer,reHydrateStore(),composeEnhancer(applyMiddleware(...middlewares,localStorageMiddleware)));\n//function as an reducer\n//initialState\n//enhancer , middlewares\n\n"]},"metadata":{},"sourceType":"module"}