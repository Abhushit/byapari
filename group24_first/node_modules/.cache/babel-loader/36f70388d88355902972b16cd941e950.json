{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react_1/group24_first/src/components/auth/login/login.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom'; // Link can be used in any componet that are wrapped by Router(BrowserRouter)\n\nimport Notify from './../../../util/notify';\nimport HttpClient from './../../../util/httpClient';\nexport class Login extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = e => {\n      e.preventDefault(); // http call\n\n      HttpClient.POST('/auth/login', this.state.data).then(response => {\n        console.log('response >>', response);\n        Notify.showSuccess(`Welcome ${response.data.user.username}`);\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        this.props.history.push('/dashboard');\n      }).catch(err => {\n        Notify.handleError(err);\n      });\n    };\n\n    this.state = {\n      data: {\n        username: '',\n        password: ''\n      },\n      error: {\n        username: '',\n        password: ''\n      },\n      remember_me: false,\n      isSubmitting: false,\n      isValidForm: false\n    };\n    this.handleChanges = this.handleChanges.bind(this);\n  }\n\n  handleChanges(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    this.setState(preState => ({\n      data: { ...preState.data,\n        [name]: value\n      }\n    }), () => {\n      this.validateForm(name);\n    });\n  }\n\n  validateForm(fieldName) {\n    let errMsg = this.state.data[fieldName] ? '' : `${fieldName} is required`;\n    this.setState(preState => ({\n      error: { ...preState.error,\n        [fieldName]: errMsg\n      }\n    }), () => {\n      // check if form is valid\n      let errors = Object.values(this.state.error).filter(error => error);\n      this.setState({\n        isValidForm: errors.length === 0\n      });\n    });\n  }\n\n  render() {\n    // try to implement applicaiton logic within a render block\n    let btn = this.state.isSubmitting ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: true,\n      className: \"btn btn-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, \"logingin...\") : /*#__PURE__*/React.createElement(\"button\", {\n      disabled: !this.state.isValidForm,\n      className: \"btn btn-primary\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, \"Login\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"Please Login to start your session!\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Username\",\n      id: \"username\",\n      name: \"username\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, this.state.error.username), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      id: \"password\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, this.state.error.password), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }), btn), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, \"Don't have an account?\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, \"Register \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, \"here\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"float_right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot_password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    }, \"forgot password?\"))));\n  }\n\n} // props and state\n// prevent default\n// binding\n// arrow notation function\n// single html node\n// setState","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/auth/login/login.component.js"],"names":["React","Component","Link","Notify","HttpClient","Login","constructor","handleSubmit","e","preventDefault","POST","state","data","then","response","console","log","showSuccess","user","username","localStorage","setItem","token","JSON","stringify","props","history","push","catch","err","handleError","password","error","remember_me","isSubmitting","isValidForm","handleChanges","bind","event","name","value","target","setState","preState","validateForm","fieldName","errMsg","errors","Object","values","filter","length","render","btn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n// Link can be used in any componet that are wrapped by Router(BrowserRouter)\nimport Notify from './../../../util/notify';\nimport HttpClient from './../../../util/httpClient';\n\nexport class Login extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: {\n                username: '',\n                password: ''\n            },\n            error: {\n                username: '',\n                password: ''\n            },\n            remember_me: false,\n            isSubmitting: false,\n            isValidForm: false\n        };\n        this.handleChanges = this.handleChanges.bind(this);\n    }\n\n    handleChanges(event) {\n        const { name, value } = event.target;\n\n        this.setState(preState => ({\n            data: {\n                ...preState.data,\n                [name]: value\n            }\n        }), () => {\n            this.validateForm(name);\n        })\n    }\n\n    validateForm(fieldName) {\n        let errMsg = this.state.data[fieldName]\n            ? ''\n            : `${fieldName} is required`\n        this.setState(preState => ({\n            error: {\n                ...preState.error,\n                [fieldName]: errMsg\n            }\n        }), () => {\n            // check if form is valid\n            let errors = Object\n                .values(this.state.error)\n                .filter(error => error);\n            this.setState({\n                isValidForm: errors.length === 0\n            })\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        // http call\n        HttpClient.POST('/auth/login', this.state.data)\n            .then(response => {\n                console.log('response >>', response);\n                Notify.showSuccess(`Welcome ${response.data.user.username}`);\n                localStorage.setItem('token', response.data.token);\n                localStorage.setItem('user', JSON.stringify(response.data.user));\n                this.props.history.push('/dashboard');\n            })\n            .catch(err => {\n                Notify.handleError(err);\n            })\n    }\n\n    render() {\n        // try to implement applicaiton logic within a render block\n        let btn = this.state.isSubmitting\n            ? <button disabled className=\"btn btn-info\">logingin...</button>\n            : <button disabled={!this.state.isValidForm} className=\"btn btn-primary\" onClick={this.handleSubmit}>Login</button>\n\n        return (\n            <div>\n                <h2>Login</h2>\n                <p>Please Login to start your session!</p>\n                <form className=\"form-group\">\n                    <label htmlFor=\"username\">Username</label>\n                    <input className=\"form-control\" type=\"text\" placeholder=\"Username\" id=\"username\" name=\"username\" onChange={this.handleChanges} />\n                    <p className=\"error\">{this.state.error.username}</p>\n                    <label htmlFor=\"password\">Password</label>\n                    <input className=\"form-control\" type=\"password\" placeholder=\"Password\" name=\"password\" id=\"password\" onChange={this.handleChanges} />\n                    <p className=\"error\">{this.state.error.password}</p>\n                    <br />\n                    {btn}\n                </form>\n                <p>Don't have an account?</p>\n                <p>Register <Link to=\"/register\">here</Link>\n                    <span className=\"float_right\">\n                        <Link to=\"/forgot_password\">forgot password?</Link>\n                    </span>\n                </p>\n            </div>\n        )\n    }\n}\n// props and state\n// prevent default\n// binding\n// arrow notation function\n// single html node\n// setState\n"]},"metadata":{},"sourceType":"module"}