{"ast":null,"code":"import axios from\"axios\";var BaseURL=process.env.REACT_APP_BASE_URL;var http=axios.create({baseURL:BaseURL,responseType:\"json\"});var getHeaders=function getHeaders(isSecure){var options={\"Content-Type\":\"application/json\"};if(isSecure){options[\"Authorization\"]=localStorage.getItem(\"token\");}return options;};function GET(url){var isSecure=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};//   http\n//     .get(url, {\n//       headers: getHeaders(),\n//       params,\n//     })\n//     .then((data) => {\n//       console.log(\"success in http client >>\", data);\n//     })\n//     .catch((err) => {\n//       console.log(\"error in http client >>\", err);\n//     });\nreturn http.get(url,{headers:getHeaders(isSecure),params:params});}function POST(url,data){var isSecure=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};//   return new Promise((resolve, reject) => {\n//     http\n//       .post(url, data, {\n//         headers: getHeaders(),\n//         params,\n//       })\n//       .then((response) => {\n//         resolve(response);\n//       })\n//       .catch((err) => {\n//         reject(err);\n//       });\n//   });\nreturn http.post(url,data,{headers:getHeaders(isSecure),params:params});}function DELETE(url){var isSecure=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var params=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return http.delete(url,{headers:getHeaders(isSecure),params:params});}function PUT(url,data){var isSecure=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return http.put(url,data,{headers:getHeaders(isSecure),params:params});}function UPLOAD(method,url,data,files){var params=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};//send request to server using xml http request\nreturn new Promise(function(resolve,reject){// send request to server using xml http request\nvar xhr=new XMLHttpRequest();var formData=new FormData();if(files&&files.length){// console.log(\"files are>>\", files);\nfor(var i=0;i<files.length;i++){formData.append(\"img\",files[i],files[i].name);}}console.log('form data uplod>>',formData);// add each data in formdata\nfor(var key in data){formData.append(key,data[key]);}xhr.onreadystatechange=function(){if(xhr.readyState===4){// console.log('req res cycle completed');\n// console.log('response is here >>', xhr.response);\nif(xhr.status===200){resolve(xhr.response);}else{reject(xhr.response);}}};xhr.open(method,\"\".concat(BaseURL).concat(url,\"?token=\").concat(localStorage.getItem(\"token\")),true);xhr.send(formData);});}export default{GET:GET,POST:POST,DELETE:DELETE,PUT:PUT,UPLOAD:UPLOAD};","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/util/httpClient.js"],"names":["axios","BaseURL","process","env","REACT_APP_BASE_URL","http","create","baseURL","responseType","getHeaders","isSecure","options","localStorage","getItem","GET","url","params","get","headers","POST","data","post","DELETE","delete","PUT","put","UPLOAD","method","files","Promise","resolve","reject","xhr","XMLHttpRequest","formData","FormData","length","i","append","name","console","log","key","onreadystatechange","readyState","status","response","open","send"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,kBAA5B,CACA,GAAMC,CAAAA,IAAI,CAAGL,KAAK,CAACM,MAAN,CAAa,CACxBC,OAAO,CAAEN,OADe,CAExBO,YAAY,CAAE,MAFU,CAAb,CAAb,CAKA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,QAAD,CAAc,CAC/B,GAAIC,CAAAA,OAAO,CAAG,CACZ,eAAgB,kBADJ,CAAd,CAGA,GAAID,QAAJ,CAAc,CACZC,OAAO,CAAC,eAAD,CAAP,CAA2BC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA3B,CACD,CACD,MAAOF,CAAAA,OAAP,CACD,CARD,CAUA,QAASG,CAAAA,GAAT,CAAaC,GAAb,CAAiD,IAA/BL,CAAAA,QAA+B,2DAApB,KAAoB,IAAbM,CAAAA,MAAa,2DAAJ,EAAI,CAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAOX,CAAAA,IAAI,CAACY,GAAL,CAASF,GAAT,CAAc,CACnBG,OAAO,CAAET,UAAU,CAACC,QAAD,CADA,CAEnBM,MAAM,CAANA,MAFmB,CAAd,CAAP,CAID,CAED,QAASG,CAAAA,IAAT,CAAcJ,GAAd,CAAmBK,IAAnB,CAAwD,IAA/BV,CAAAA,QAA+B,2DAApB,KAAoB,IAAbM,CAAAA,MAAa,2DAAJ,EAAI,CACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAOX,CAAAA,IAAI,CAACgB,IAAL,CAAUN,GAAV,CAAeK,IAAf,CAAqB,CAC1BF,OAAO,CAAET,UAAU,CAACC,QAAD,CADO,CAE1BM,MAAM,CAANA,MAF0B,CAArB,CAAP,CAID,CAED,QAASM,CAAAA,MAAT,CAAgBP,GAAhB,CAAoD,IAA/BL,CAAAA,QAA+B,2DAApB,KAAoB,IAAbM,CAAAA,MAAa,2DAAJ,EAAI,CAClD,MAAOX,CAAAA,IAAI,CAACkB,MAAL,CAAYR,GAAZ,CAAiB,CACtBG,OAAO,CAAET,UAAU,CAACC,QAAD,CADG,CAEtBM,MAAM,CAANA,MAFsB,CAAjB,CAAP,CAID,CACD,QAASQ,CAAAA,GAAT,CAAaT,GAAb,CAAkBK,IAAlB,CAAuD,IAA/BV,CAAAA,QAA+B,2DAApB,KAAoB,IAAbM,CAAAA,MAAa,2DAAJ,EAAI,CACrD,MAAOX,CAAAA,IAAI,CAACoB,GAAL,CAASV,GAAT,CAAcK,IAAd,CAAoB,CACzBF,OAAO,CAAET,UAAU,CAACC,QAAD,CADM,CAEzBM,MAAM,CAANA,MAFyB,CAApB,CAAP,CAID,CAED,QAASU,CAAAA,MAAT,CAAgBC,MAAhB,CAAwBZ,GAAxB,CAA6BK,IAA7B,CAAmCQ,KAAnC,CAAuD,IAAbZ,CAAAA,MAAa,2DAAJ,EAAI,CACrD;AACA,MAAO,IAAIa,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CACtC;AACA,GAAMC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,cAAJ,EAAZ,CACA,GAAMC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAjB,CAEA,GAAIP,KAAK,EAAIA,KAAK,CAACQ,MAAnB,CAA2B,CACzB;AACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGT,KAAK,CAACQ,MAA1B,CAAkCC,CAAC,EAAnC,CAAuC,CACrCH,QAAQ,CAACI,MAAT,CAAgB,KAAhB,CAAuBV,KAAK,CAACS,CAAD,CAA5B,CAAiCT,KAAK,CAACS,CAAD,CAAL,CAASE,IAA1C,EACD,CACF,CACDC,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCP,QAAjC,EAEA;AACA,IAAK,GAAIQ,CAAAA,GAAT,GAAgBtB,CAAAA,IAAhB,CAAsB,CACpBc,QAAQ,CAACI,MAAT,CAAgBI,GAAhB,CAAqBtB,IAAI,CAACsB,GAAD,CAAzB,EACD,CACDV,GAAG,CAACW,kBAAJ,CAAyB,UAAM,CAC7B,GAAIX,GAAG,CAACY,UAAJ,GAAmB,CAAvB,CAA0B,CACxB;AACA;AACA,GAAIZ,GAAG,CAACa,MAAJ,GAAe,GAAnB,CAAwB,CACtBf,OAAO,CAACE,GAAG,CAACc,QAAL,CAAP,CACD,CAFD,IAEO,CACLf,MAAM,CAACC,GAAG,CAACc,QAAL,CAAN,CACD,CACF,CACF,CAVD,CAYAd,GAAG,CAACe,IAAJ,CACEpB,MADF,WAEK1B,OAFL,SAEec,GAFf,mBAE4BH,YAAY,CAACC,OAAb,CAAqB,OAArB,CAF5B,EAGE,IAHF,EAKAmB,GAAG,CAACgB,IAAJ,CAASd,QAAT,EACD,CAnCM,CAAP,CAoCD,CAOD,cAAe,CACbpB,GAAG,CAAHA,GADa,CAEbK,IAAI,CAAJA,IAFa,CAGbG,MAAM,CAANA,MAHa,CAIbE,GAAG,CAAHA,GAJa,CAKbE,MAAM,CAANA,MALa,CAAf","sourcesContent":["import axios from \"axios\";\n\nconst BaseURL = process.env.REACT_APP_BASE_URL;\nconst http = axios.create({\n  baseURL: BaseURL,\n  responseType: \"json\",\n});\n\nconst getHeaders = (isSecure) => {\n  let options = {\n    \"Content-Type\": \"application/json\",\n  };\n  if (isSecure) {\n    options[\"Authorization\"] = localStorage.getItem(\"token\");\n  }\n  return options;\n};\n\nfunction GET(url, isSecure = false, params = {}) {\n  //   http\n  //     .get(url, {\n  //       headers: getHeaders(),\n  //       params,\n  //     })\n  //     .then((data) => {\n  //       console.log(\"success in http client >>\", data);\n  //     })\n  //     .catch((err) => {\n  //       console.log(\"error in http client >>\", err);\n  //     });\n  return http.get(url, {\n    headers: getHeaders(isSecure),\n    params,\n  });\n}\n\nfunction POST(url, data, isSecure = false, params = {}) {\n  //   return new Promise((resolve, reject) => {\n  //     http\n  //       .post(url, data, {\n  //         headers: getHeaders(),\n  //         params,\n  //       })\n  //       .then((response) => {\n  //         resolve(response);\n  //       })\n  //       .catch((err) => {\n  //         reject(err);\n  //       });\n  //   });\n  return http.post(url, data, {\n    headers: getHeaders(isSecure),\n    params,\n  });\n}\n\nfunction DELETE(url, isSecure = false, params = {}) {\n  return http.delete(url, {\n    headers: getHeaders(isSecure),\n    params,\n  });\n}\nfunction PUT(url, data, isSecure = false, params = {}) {\n  return http.put(url, data, {\n    headers: getHeaders(isSecure),\n    params,\n  });\n}\n\nfunction UPLOAD(method, url, data, files, params = {}) {\n  //send request to server using xml http request\n  return new Promise((resolve, reject) => {\n    // send request to server using xml http request\n    const xhr = new XMLHttpRequest();\n    const formData = new FormData();\n\n    if (files && files.length) {\n      // console.log(\"files are>>\", files);\n      for (let i = 0; i < files.length; i++) {\n        formData.append(\"img\", files[i], files[i].name);\n      }\n    }\n    console.log('form data uplod>>', formData);\n\n    // add each data in formdata\n    for (let key in data) {\n      formData.append(key, data[key]);\n    }\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === 4) {\n        // console.log('req res cycle completed');\n        // console.log('response is here >>', xhr.response);\n        if (xhr.status === 200) {\n          resolve(xhr.response);\n        } else {\n          reject(xhr.response);\n        }\n      }\n    };\n\n    xhr.open(\n      method,\n      `${BaseURL}${url}?token=${localStorage.getItem(\"token\")}`,\n      true\n    );\n    xhr.send(formData);\n  });\n}\n\n\n\n\n\n\nexport default {\n  GET,\n  POST,\n  DELETE,\n  PUT,\n  UPLOAD,\n};\n"]},"metadata":{},"sourceType":"module"}