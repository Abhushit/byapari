{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react_1/group24_first/src/components/auth/register/register.component.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Notify from \"./../../util/notify\";\nimport HttpClient from './../../util/httpClient';\nconst DefaultForm = {\n  fullname: \"\",\n  username: \"\",\n  password: \"\",\n  email: \"\",\n  phone: \"\",\n  address: \"\",\n  dob: \"\",\n  gender: \"\"\n};\nexport class Register extends Component {\n  constructor() {\n    super();\n\n    this.handleChanges = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState(preState => ({\n        data: { ...preState.data,\n          [name]: value\n        }\n      }), () => {\n        // console.log(\"callback part of setstate >>\", this.state);\n        //form validation\n        this.validateForm(name);\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.setState({\n        isSubmitting: true\n      }); //http call\n      // .then\n      // .catch\n\n      HttpClient.POST('/auth/register', this.state.data, {\n        responseType: 'json'\n      }).then(data => {\n        Notify.showSuccess(\"Registration Successful, Please login\");\n        this.props.history.push(\"/\"); //navigate to login\n      }).catch(err => {\n        //if we get error\n        //we pass each and every error to error handling bock\n        Notify.handleError(err);\n        this.setState({\n          isSubmitting: false\n        });\n      }); // axios\n      //   .post(\"http://localhost:9090/api/auth/register\", this.state.data, {\n      //     responseType: \"json\",\n      //   })\n      //   .then((data) => {\n      //     Notify.showSuccess(\"Registration Successful, Please login\");\n      //     this.props.history.push(\"/\"); //navigate to login\n      //   })\n      //   .catch((err) => {\n      //     //if we get error\n      //     //we pass each and every error to error handling bock\n      //     Notify.handleError(err);\n      //     this.setState({\n      //       isSubmitting: false,\n      //     });\n      //   });\n    };\n\n    this.state = {\n      data: { ...DefaultForm\n      },\n      error: { ...DefaultForm\n      },\n      isSubmitting: false,\n      isValidForm: false\n    };\n  }\n\n  validateForm(fieldName) {\n    let errMsg;\n\n    switch (fieldName) {\n      case \"fullname\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"username\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"phone\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"email\":\n        errMsg = this.state.data[fieldName] ? this.state.data[fieldName].includes(\"@\") && this.state.data[fieldName].includes(\".com\") ? \"\" : \"Invalid Email\" : \"Required Field\";\n        break;\n\n      case \"password\":\n        errMsg = this.state.data[fieldName] ? this.state.data[fieldName].length > 6 ? \"\" : \"Weak Password\" : \"Required Field\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState(preState => ({\n      error: { ...preState.error,\n        [fieldName]: errMsg\n      }\n    }), () => {\n      //now disable submit button when form is invalid\n      const {\n        error\n      } = this.state;\n      let err = Object.values(error).filter(item => item);\n      this.setState({\n        isValidForm: err.length === 0\n      });\n    });\n  }\n\n  render() {\n    let btn = this.state.isSubmitting ? /*#__PURE__*/React.createElement(\"button\", {\n      disabled: true,\n      className: \"btn btn-info mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, \"Submitting...\") : /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      disabled: !this.state.isValidForm,\n      className: \"btn btn-primary mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 7\n      }\n    }, \"Submit\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-div container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, \"Please register to be a new user\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group form-main\",\n      onSubmit: this.handleSubmit,\n      noValidate: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"fullname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, \"Full Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Full Name\",\n      id: \"fullname\",\n      name: \"fullname\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, this.state.error.fullname), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Username\",\n      id: \"username\",\n      name: \"username\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, this.state.error.username), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      id: \"password\",\n      name: \"password\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, this.state.error.password), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }\n    }, \"Email Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      placeholder: \"Email Address\",\n      id: \"email\",\n      name: \"email\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, this.state.error.email), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"dob\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, \"Date of Birth\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"date\",\n      id: \"dob\",\n      name: \"dob\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"phone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }\n    }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      placeholder: \"Phone Number\",\n      id: \"phone\",\n      name: \"phone\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }\n    }, \"Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Address\",\n      id: \"address\",\n      name: \"address\",\n      className: \"form-control\",\n      onChange: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"male\",\n      name: \"gender\",\n      onClick: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }\n    }, \"Male\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 46\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"female\",\n      name: \"gender\",\n      onClick: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, \"Female\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"others\",\n      name: \"gender\",\n      onClick: this.handleChanges,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"others\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }\n    }, \"Others\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }), btn), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }, \"Already Registered ?\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"pull_right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, \"Back to\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 20\n      }\n    }, \" Login\"))));\n  }\n\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/auth/register/register.component.js"],"names":["React","Component","Link","Notify","HttpClient","DefaultForm","fullname","username","password","email","phone","address","dob","gender","Register","constructor","handleChanges","event","name","value","target","setState","preState","data","validateForm","handleSubmit","e","preventDefault","isSubmitting","POST","state","responseType","then","showSuccess","props","history","push","catch","err","handleError","error","isValidForm","fieldName","errMsg","includes","length","Object","values","filter","item","render","btn"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Notify from \"./../../util/notify\";\nimport HttpClient from './../../util/httpClient';\n\nconst DefaultForm = {\n  fullname: \"\",\n  username: \"\",\n  password: \"\",\n  email: \"\",\n  phone: \"\",\n  address: \"\",\n  dob: \"\",\n  gender: \"\",\n};\n\nexport class Register extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        ...DefaultForm,\n      },\n      error: {\n        ...DefaultForm,\n      },\n      isSubmitting: false,\n      isValidForm: false,\n    };\n  }\n\n  handleChanges = (event) => {\n    const { name, value } = event.target;\n    this.setState(\n      (preState) => ({\n        data: {\n          ...preState.data,\n          [name]: value,\n        },\n      }),\n      () => {\n        // console.log(\"callback part of setstate >>\", this.state);\n        //form validation\n        this.validateForm(name);\n      }\n    );\n  };\n\n  validateForm(fieldName) {\n    let errMsg;\n    switch (fieldName) {\n      case \"fullname\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"username\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"phone\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field\";\n        break;\n\n      case \"email\":\n        errMsg = this.state.data[fieldName]\n          ? this.state.data[fieldName].includes(\"@\") &&\n            this.state.data[fieldName].includes(\".com\")\n            ? \"\"\n            : \"Invalid Email\"\n          : \"Required Field\";\n        break;\n\n      case \"password\":\n        errMsg = this.state.data[fieldName]\n          ? this.state.data[fieldName].length > 6\n            ? \"\"\n            : \"Weak Password\"\n          : \"Required Field\";\n        break;\n\n      default:\n        break;\n    }\n    this.setState(\n      (preState) => ({\n        error: {\n          ...preState.error,\n          [fieldName]: errMsg,\n        },\n      }),\n      () => {\n        //now disable submit button when form is invalid\n\n        const { error } = this.state;\n        let err = Object.values(error).filter((item) => item);\n\n        this.setState({\n          isValidForm: err.length === 0,\n        });\n      }\n    );\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.setState({ isSubmitting: true });\n    //http call\n    // .then\n    // .catch\n    HttpClient.POST('/auth/register',this.state.data,{responseType: 'json'})\n    .then((data) => {\n          Notify.showSuccess(\"Registration Successful, Please login\");\n          this.props.history.push(\"/\"); //navigate to login\n        })\n        .catch((err) => {\n          //if we get error\n          //we pass each and every error to error handling bock\n          Notify.handleError(err);\n          this.setState({\n            isSubmitting: false,\n          });\n        });\n\n\n    // axios\n    //   .post(\"http://localhost:9090/api/auth/register\", this.state.data, {\n    //     responseType: \"json\",\n    //   })\n    //   .then((data) => {\n    //     Notify.showSuccess(\"Registration Successful, Please login\");\n    //     this.props.history.push(\"/\"); //navigate to login\n    //   })\n    //   .catch((err) => {\n    //     //if we get error\n    //     //we pass each and every error to error handling bock\n    //     Notify.handleError(err);\n    //     this.setState({\n    //       isSubmitting: false,\n    //     });\n    //   });\n  };\n\n  render() {\n    let btn = this.state.isSubmitting ? (\n      <button disabled className=\"btn btn-info mt-3\">\n        Submitting...\n      </button>\n    ) : (\n      <button\n        type=\"submit\"\n        disabled={!this.state.isValidForm}\n        className=\"btn btn-primary mt-3\"\n      >\n        Submit\n      </button>\n    );\n\n    return (\n      <div className=\"page-div container\">\n        <h2>Register</h2>\n        <p>Please register to be a new user</p>\n        <form\n          className=\"form-group form-main\"\n          onSubmit={this.handleSubmit}\n          noValidate\n        >\n          <label htmlFor=\"fullname\">Full Name</label>\n          <input\n            type=\"text\"\n            placeholder=\"Full Name\"\n            id=\"fullname\"\n            name=\"fullname\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <p className=\"error\">{this.state.error.fullname}</p>\n          <label htmlFor=\"username\">Username</label>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            id=\"username\"\n            name=\"username\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <p className=\"error\">{this.state.error.username}</p>\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            id=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <p className=\"error\">{this.state.error.password}</p>\n          <label htmlFor=\"email\">Email Address</label>\n          <input\n            type=\"email\"\n            placeholder=\"Email Address\"\n            id=\"email\"\n            name=\"email\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <p className=\"error\">{this.state.error.email}</p>\n          <label htmlFor=\"dob\">Date of Birth</label>\n          <input\n            type=\"date\"\n            id=\"dob\"\n            name=\"dob\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <label htmlFor=\"phone\">Phone Number</label>\n          <input\n            type=\"number\"\n            placeholder=\"Phone Number\"\n            id=\"phone\"\n            name=\"phone\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <label htmlFor=\"address\">Address</label>\n          <input\n            type=\"text\"\n            placeholder=\"Address\"\n            id=\"address\"\n            name=\"address\"\n            className=\"form-control\"\n            onChange={this.handleChanges}\n          />\n          <label>Gender</label>\n          <br />\n          <input\n            type=\"radio\"\n            id=\"male\"\n            name=\"gender\"\n            onClick={this.handleChanges}\n          />\n          <label htmlFor=\"male\">Male</label> <br />\n          <input\n            type=\"radio\"\n            id=\"female\"\n            name=\"gender\"\n            onClick={this.handleChanges}\n          />\n          <label htmlFor=\"female\">Female</label>\n          <br />\n          <input\n            type=\"radio\"\n            id=\"others\"\n            name=\"gender\"\n            onClick={this.handleChanges}\n          />\n          <label htmlFor=\"others\">Others</label>\n          <br />\n          {btn}\n        </form>\n        <p className=\"mt-3\">\n          Already Registered ?\n          <span className=\"pull_right\">\n            Back to<Link to=\"/\"> Login</Link>\n          </span>\n        </p>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}