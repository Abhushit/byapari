{"ast":null,"code":"import{SET_IS_LOADING,SET_DELETING_ITEM,PRODUCT_RECEIVED,PRODUCT_REMOVED,PRODUCT_DETAILS_LOADED,ADD_PRODUCT_BASKET,GET_NUMBERS_BASKET,INCREASE_QUANTITY,DECREASE_QUANTITY,CLEAR_PRODUCT,LOGOUT}from\"./type\";import httpClient from\"./../../components/util/httpClient\";import notify from\"./../../components/util/notify\";// function fetchProduct_ac(params){\n//     return function(dispatch){\n//         //calling a dispatch will execute reducer\n//     }\n// }\nexport var fetchProduct_ac=function fetchProduct_ac(params){return function(dispatch){console.log(\"At Actions from view >>\",params);dispatch({type:SET_IS_LOADING,payload:true});httpClient.GET(\"/product\",true).then(function(response){response.data.forEach(function(item){item.$$isDeleting=false;});//dispatch action to reducer\nconsole.log(\"there is a delay with http call now dispatch actin to reducer\");dispatch({type:PRODUCT_RECEIVED,payload:response.data});}).catch(function(err){notify.handleError(err);}).finally(function(){dispatch({type:SET_IS_LOADING,payload:false});});};};export var removeItem_ac=function removeItem_ac(item,index){return function(dispatch){dispatch({type:SET_DELETING_ITEM,payload:item._id});httpClient.DELETE(\"/product/\".concat(item._id),true).then(function(response){notify.showInfo(\"Product Removed\");dispatch({type:PRODUCT_REMOVED,payload:index});}).catch(function(err){notify.handleError(err);});};};export var productDetails_ac=function productDetails_ac(productId){return function(dispatch){dispatch({type:SET_IS_LOADING,payload:true});httpClient.GET(\"/product/\".concat(productId),true).then(function(response){dispatch({type:PRODUCT_DETAILS_LOADED,payload:response.data});}).catch(function(err){notify.handleError(err);}).finally(function(){dispatch({type:SET_IS_LOADING,payload:false});});};};export var addBasket=function addBasket(productName){return function(dispatch){console.log(\"Adding to basket\");console.log(\"Product:\",productName);dispatch({type:ADD_PRODUCT_BASKET,payload:productName});};};export var getNumbers=function getNumbers(){return function(dispatch){console.log(\"get numbers in basket\");dispatch({type:GET_NUMBERS_BASKET});};};export var productQuantity=function productQuantity(action,name){return function(dispatch){// console.log('Inside Product Quantity');\n// console.log('action is', action);\n// console.log('product name is', name);\ndispatch({type:action===\"increase\"?INCREASE_QUANTITY:DECREASE_QUANTITY,payload:name});};};export var clearProduct=function clearProduct(name){return function(dispatch){// console.log('Inside clear product');\n// console.log('product name on clear', name)\ndispatch({type:CLEAR_PRODUCT,payload:name});};};export var logout=function logout(){return function(dispatch){dispatch({type:LOGOUT});};};","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/actions/products/productActions.js"],"names":["SET_IS_LOADING","SET_DELETING_ITEM","PRODUCT_RECEIVED","PRODUCT_REMOVED","PRODUCT_DETAILS_LOADED","ADD_PRODUCT_BASKET","GET_NUMBERS_BASKET","INCREASE_QUANTITY","DECREASE_QUANTITY","CLEAR_PRODUCT","LOGOUT","httpClient","notify","fetchProduct_ac","params","dispatch","console","log","type","payload","GET","then","response","data","forEach","item","$$isDeleting","catch","err","handleError","finally","removeItem_ac","index","_id","DELETE","showInfo","productDetails_ac","productId","addBasket","productName","getNumbers","productQuantity","action","name","clearProduct","logout"],"mappings":"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","sourcesContent":["import {\n  SET_IS_LOADING,\n  SET_DELETING_ITEM,\n  PRODUCT_RECEIVED,\n  PRODUCT_REMOVED,\n  PRODUCT_DETAILS_LOADED,\n  ADD_PRODUCT_BASKET,\n  GET_NUMBERS_BASKET,\n  INCREASE_QUANTITY,\n  DECREASE_QUANTITY,\n  CLEAR_PRODUCT,\n  LOGOUT,\n} from \"./type\";\nimport httpClient from \"./../../components/util/httpClient\";\nimport notify from \"./../../components/util/notify\";\n\n// function fetchProduct_ac(params){\n//     return function(dispatch){\n//         //calling a dispatch will execute reducer\n//     }\n// }\n\nexport const fetchProduct_ac = (params) => (dispatch) => {\n  console.log(\"At Actions from view >>\", params);\n  dispatch({\n    type: SET_IS_LOADING,\n    payload: true,\n  });\n  httpClient\n    .GET(\"/product\", true)\n    .then((response) => {\n      response.data.forEach((item) => {\n        item.$$isDeleting = false;\n      });\n      //dispatch action to reducer\n      console.log(\n        \"there is a delay with http call now dispatch actin to reducer\"\n      );\n      dispatch({\n        type: PRODUCT_RECEIVED,\n        payload: response.data,\n      });\n    })\n    .catch((err) => {\n      notify.handleError(err);\n    })\n    .finally(() => {\n      dispatch({\n        type: SET_IS_LOADING,\n        payload: false,\n      });\n    });\n};\n\nexport const removeItem_ac = (item, index) => (dispatch) => {\n  dispatch({\n    type: SET_DELETING_ITEM,\n    payload: item._id,\n  });\n\n  httpClient\n    .DELETE(`/product/${item._id}`, true)\n    .then((response) => {\n      notify.showInfo(\"Product Removed\");\n      dispatch({\n        type: PRODUCT_REMOVED,\n        payload: index,\n      });\n    })\n    .catch((err) => {\n      notify.handleError(err);\n    });\n};\n\nexport const productDetails_ac = (productId) => (dispatch) => {\n  dispatch({\n    type: SET_IS_LOADING,\n    payload: true,\n  });\n  httpClient\n    .GET(`/product/${productId}`, true)\n    .then((response) => {\n      dispatch({\n        type: PRODUCT_DETAILS_LOADED,\n        payload: response.data,\n      });\n    })\n    .catch((err) => {\n      notify.handleError(err);\n    })\n    .finally(() => {\n      dispatch({\n        type: SET_IS_LOADING,\n        payload: false,\n      });\n    });\n};\n\nexport const addBasket = (productName) => (dispatch) => {\n  console.log(\"Adding to basket\");\n  console.log(\"Product:\", productName);\n\n  dispatch({\n    type: ADD_PRODUCT_BASKET,\n    payload: productName,\n  });\n};\n\nexport const getNumbers = () => (dispatch) => {\n  console.log(\"get numbers in basket\");\n  dispatch({\n    type: GET_NUMBERS_BASKET,\n  });\n};\n\nexport const productQuantity = (action, name) => (dispatch) => {\n  // console.log('Inside Product Quantity');\n  // console.log('action is', action);\n  // console.log('product name is', name);\n  dispatch({\n    type: action === \"increase\" ? INCREASE_QUANTITY : DECREASE_QUANTITY,\n    payload: name,\n  });\n};\n\nexport const clearProduct = (name) => (dispatch) => {\n  // console.log('Inside clear product');\n  // console.log('product name on clear', name)\n  dispatch({\n    type: CLEAR_PRODUCT,\n    payload: name,\n  });\n};\n\nexport const logout = () => (dispatch) => {\n  dispatch({\n    type: LOGOUT,\n  });\n};\n"]},"metadata":{},"sourceType":"module"}