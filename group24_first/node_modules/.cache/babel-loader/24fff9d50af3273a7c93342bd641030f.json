{"ast":null,"code":"import _defineProperty from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/opt/lampp/htdocs/react_1/group24_first/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SubmitButton from\"../../common/submitButton/submitButton.component\";import httpClient from\"../../util/httpClient\";import notify from\"../../util/notify\";import{SingleProduct}from\"../singleProduct/singleProduct.component\";var defaultForm={name:\"\",category:\"\",brand:\"\",color:\"\",minPrice:\"\",maxPrice:\"\",fromDate:\"\",toDate:\"\",discountedItem:\"\",multipleDateRange:\"\",tags:\"\"};export var SearchProduct=/*#__PURE__*/function(_Component){_inherits(SearchProduct,_Component);var _super=_createSuper(SearchProduct);function SearchProduct(){var _this;_classCallCheck(this,SearchProduct);_this=_super.call(this);_this.handleChange=function(e){var _e$target=e.target,type=_e$target.type,name=_e$target.name,value=_e$target.value,checked=_e$target.checked;if(type===\"checkbox\"){value=checked;}if(name===\"category\"){_this.buildNameOptions(value);}_this.setState(function(preState){return{data:_objectSpread(_objectSpread({},preState.data),{},_defineProperty({},name,value))};},function(){_this.validateForm(name);});};_this.handleSubmit=function(e){e.preventDefault();//search\nvar data=_this.state.data;if(!data.multipleDateRange){data.toDate=data.fromDate;}httpClient.GET(\"/product/search\",false,data).then(function(response){console.log(\"search result is response\",response);if(!response.data.length){return notify.showInfo(\"No any product matched your search query\");}_this.setState({searchResult:response.data});}).catch(function(err){notify.handleError(err);});};_this.reset=function(){_this.setState({searchResult:[]});};_this.state={allProducts:[],categories:[],names:[],searchResult:[],data:_objectSpread({},defaultForm),error:_objectSpread({},defaultForm),isSubmitting:false,isValidForm:false};return _this;}_createClass(SearchProduct,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;httpClient.POST(\"/product/search\",{}).then(function(response){var categories=[];//unique categories\nresponse.data.forEach(function(product){if(categories.indexOf(product.category)===-1){categories.push(product.category);}});_this2.setState({allProducts:response.data,categories:categories});}).catch(function(err){notify.handleError(err);});}},{key:\"buildNameOptions\",value:function buildNameOptions(selectedCategory){var names=this.state.allProducts.filter(function(product){return product.category===selectedCategory;});this.setState({names:names});}},{key:\"validateForm\",value:function validateForm(fieldName){var _this3=this;var errMsg;switch(fieldName){case\"category\":errMsg=this.state.data[fieldName]?\"\":\"Required Field*\";break;default:break;}this.setState(function(preState){return{error:_objectSpread(_objectSpread({},preState.error),{},_defineProperty({},fieldName,errMsg))};},function(){var errors=Object.values(_this3.state.error).filter(function(err){return err;});_this3.setState({isValidForm:errors.length===0});});}},{key:\"render\",value:function render(){console.log('props history',this.props);console.log('incoming data>>',this.state);var mainContent=this.state.searchResult.length?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SingleProduct,{incomingData:this.state.searchResult,resetSearch:this.reset,history:this.props.history})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginTop:90+\"px\"}},/*#__PURE__*/React.createElement(\"h2\",null,\"Search Products Here\"),/*#__PURE__*/React.createElement(\"form\",{className:\"form-group\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"Category\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",name:\"category\",value:this.state.data.category,onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",{value:\"\",selected:true},\"(Selected Category)\"),this.state.categories.map(function(item,i){return/*#__PURE__*/React.createElement(\"option\",{key:i,value:item},item);})),/*#__PURE__*/React.createElement(\"p\",{className:\"error\"},this.state.error.category),this.state.names.length&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"select\",{className:\"form-control\",name:\"name\",value:this.state.data.name,onChange:this.handleChange},/*#__PURE__*/React.createElement(\"option\",{selected:true,value:\"\"},\"(Select Name)\"),this.state.names.map(function(name,i){return/*#__PURE__*/React.createElement(\"option\",{key:i,value:name.name},name.name);}))),/*#__PURE__*/React.createElement(\"label\",null,\"Brand\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Brand\",name:\"brand\",value:this.state.data.brand,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Min Price\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Min Price\",name:\"minPrice\",value:this.state.data.minPrice,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Max Price\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Max Price\",name:\"maxPrice\",value:this.state.data.maxPrice,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Color\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Color\",name:\"color\",value:this.state.data.color,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Select Date\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",className:\"form-control\",name:\"fromDate\",onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",onChange:this.handleChange,name:\"multipleDateRange\"}),/*#__PURE__*/React.createElement(\"label\",null,\"Multiple Date Range\"),this.state.data.multipleDateRange&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"label\",null,\"To Date\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",className:\"form-control\",name:\"toDate\",onChange:this.handleChange})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Tags\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Tags\",name:\"tags\",value:this.state.data.tags,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"label\",null,\"Weight\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Weight\",name:\"weight\",value:this.state.data.weight,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(SubmitButton,{isSubmitting:this.props.isSubmitting,isValidForm:this.state.isValidForm}))));return mainContent;}}]);return SearchProduct;}(Component);","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/products/searchProduct/searchProduct.component.js"],"names":["React","Component","SubmitButton","httpClient","notify","SingleProduct","defaultForm","name","category","brand","color","minPrice","maxPrice","fromDate","toDate","discountedItem","multipleDateRange","tags","SearchProduct","handleChange","e","target","type","value","checked","buildNameOptions","setState","preState","data","validateForm","handleSubmit","preventDefault","state","GET","then","response","console","log","length","showInfo","searchResult","catch","err","handleError","reset","allProducts","categories","names","error","isSubmitting","isValidForm","POST","forEach","product","indexOf","push","selectedCategory","filter","fieldName","errMsg","errors","Object","values","props","mainContent","history","marginTop","map","item","i","weight"],"mappings":"q6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,kDAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,aAAT,KAA8B,0CAA9B,CAEA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,IAAI,CAAE,EADY,CAElBC,QAAQ,CAAE,EAFQ,CAGlBC,KAAK,CAAE,EAHW,CAIlBC,KAAK,CAAE,EAJW,CAKlBC,QAAQ,CAAE,EALQ,CAMlBC,QAAQ,CAAE,EANQ,CAOlBC,QAAQ,CAAE,EAPQ,CAQlBC,MAAM,CAAE,EARU,CASlBC,cAAc,CAAE,EATE,CAUlBC,iBAAiB,CAAE,EAVD,CAWlBC,IAAI,CAAE,EAXY,CAApB,CAcA,UAAaC,CAAAA,aAAb,8GACE,wBAAc,+CACZ,wBADY,MA6CdC,YA7Cc,CA6CC,SAACC,CAAD,CAAO,eACiBA,CAAC,CAACC,MADnB,CACdC,IADc,WACdA,IADc,CACRf,IADQ,WACRA,IADQ,CACFgB,KADE,WACFA,KADE,CACKC,OADL,WACKA,OADL,CAEpB,GAAIF,IAAI,GAAK,UAAb,CAAyB,CACvBC,KAAK,CAAGC,OAAR,CACD,CAED,GAAIjB,IAAI,GAAK,UAAb,CAAyB,CACvB,MAAKkB,gBAAL,CAAsBF,KAAtB,EACD,CAED,MAAKG,QAAL,CACE,SAACC,QAAD,QAAe,CACbC,IAAI,gCACCD,QAAQ,CAACC,IADV,wBAEDrB,IAFC,CAEMgB,KAFN,EADS,CAAf,EADF,CAOE,UAAM,CACJ,MAAKM,YAAL,CAAkBtB,IAAlB,EACD,CATH,EAWD,CAlEa,OA8FduB,YA9Fc,CA8FC,SAACV,CAAD,CAAO,CACpBA,CAAC,CAACW,cAAF,GACA;AAFoB,GAGZH,CAAAA,IAHY,CAGH,MAAKI,KAHF,CAGZJ,IAHY,CAIpB,GAAI,CAACA,IAAI,CAACZ,iBAAV,CAA6B,CAC3BY,IAAI,CAACd,MAAL,CAAcc,IAAI,CAACf,QAAnB,CACD,CACDV,UAAU,CACP8B,GADH,CACO,iBADP,CAC0B,KAD1B,CACiCL,IADjC,EAEGM,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAY,2BAAZ,CAAyCF,QAAzC,EACA,GAAI,CAACA,QAAQ,CAACP,IAAT,CAAcU,MAAnB,CAA2B,CACzB,MAAOlC,CAAAA,MAAM,CAACmC,QAAP,CAAgB,0CAAhB,CAAP,CACD,CACD,MAAKb,QAAL,CAAc,CACZc,YAAY,CAAEL,QAAQ,CAACP,IADX,CAAd,EAGD,CAVH,EAWGa,KAXH,CAWS,SAACC,GAAD,CAAS,CACdtC,MAAM,CAACuC,WAAP,CAAmBD,GAAnB,EACD,CAbH,EAcD,CAnHa,OAqHdE,KArHc,CAqHN,UAAM,CACZ,MAAKlB,QAAL,CAAc,CACZc,YAAY,CAAE,EADF,CAAd,EAGD,CAzHa,CAEZ,MAAKR,KAAL,CAAa,CACXa,WAAW,CAAE,EADF,CAEXC,UAAU,CAAE,EAFD,CAGXC,KAAK,CAAE,EAHI,CAIXP,YAAY,CAAE,EAJH,CAKXZ,IAAI,kBAAOtB,WAAP,CALO,CAMX0C,KAAK,kBAAO1C,WAAP,CANM,CAOX2C,YAAY,CAAE,KAPH,CAQXC,WAAW,CAAE,KARF,CAAb,CAFY,aAYb,CAbH,uFAesB,iBAClB/C,UAAU,CACPgD,IADH,CACQ,iBADR,CAC2B,EAD3B,EAEGjB,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,GAAIW,CAAAA,UAAU,CAAG,EAAjB,CAEA;AACAX,QAAQ,CAACP,IAAT,CAAcwB,OAAd,CAAsB,SAACC,OAAD,CAAa,CACjC,GAAIP,UAAU,CAACQ,OAAX,CAAmBD,OAAO,CAAC7C,QAA3B,IAAyC,CAAC,CAA9C,CAAiD,CAC/CsC,UAAU,CAACS,IAAX,CAAgBF,OAAO,CAAC7C,QAAxB,EACD,CACF,CAJD,EAKA,MAAI,CAACkB,QAAL,CAAc,CACZmB,WAAW,CAAEV,QAAQ,CAACP,IADV,CAEZkB,UAAU,CAAVA,UAFY,CAAd,EAID,CAfH,EAgBGL,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACdtC,MAAM,CAACuC,WAAP,CAAmBD,GAAnB,EACD,CAlBH,EAmBD,CAnCH,0DAqCmBc,gBArCnB,CAqCqC,CACjC,GAAIT,CAAAA,KAAK,CAAG,KAAKf,KAAL,CAAWa,WAAX,CAAuBY,MAAvB,CACV,SAACJ,OAAD,QAAaA,CAAAA,OAAO,CAAC7C,QAAR,GAAqBgD,gBAAlC,EADU,CAAZ,CAGA,KAAK9B,QAAL,CAAc,CACZqB,KAAK,CAALA,KADY,CAAd,EAGD,CA5CH,kDAoEeW,SApEf,CAoE0B,iBACtB,GAAIC,CAAAA,MAAJ,CACA,OAAQD,SAAR,EACE,IAAK,UAAL,CACEC,MAAM,CAAG,KAAK3B,KAAL,CAAWJ,IAAX,CAAgB8B,SAAhB,EAA6B,EAA7B,CAAkC,iBAA3C,CACA,MAEF,QACE,MANJ,CAQA,KAAKhC,QAAL,CACE,SAACC,QAAD,QAAe,CACbqB,KAAK,gCACArB,QAAQ,CAACqB,KADT,wBAEFU,SAFE,CAEUC,MAFV,EADQ,CAAf,EADF,CAOE,UAAM,CACJ,GAAIC,CAAAA,MAAM,CAAGC,MAAM,CAACC,MAAP,CAAc,MAAI,CAAC9B,KAAL,CAAWgB,KAAzB,EAAgCS,MAAhC,CAAuC,SAACf,GAAD,QAASA,CAAAA,GAAT,EAAvC,CAAb,CACA,MAAI,CAAChB,QAAL,CAAc,CACZwB,WAAW,CAAEU,MAAM,CAACtB,MAAP,GAAkB,CADnB,CAAd,EAGD,CAZH,EAcD,CA5FH,uCA4HW,CAEPF,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B,KAAK0B,KAAlC,EACA3B,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+B,KAAKL,KAApC,EAEA,GAAIgC,CAAAA,WAAW,CAAG,KAAKhC,KAAL,CAAWQ,YAAX,CAAwBF,MAAxB,cAChB,qDAME,oBAAC,aAAD,EACE,YAAY,CAAE,KAAKN,KAAL,CAAWQ,YAD3B,CAEE,WAAW,CAAE,KAAKI,KAFpB,CAGE,OAAO,CAAE,KAAKmB,KAAL,CAAWE,OAHtB,EANF,CADgB,cAchB,qDACE,2BAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACC,SAAS,CAAC,GAAK,IAAhB,CAAlC,eACE,qDADF,cAEE,4BAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAE,KAAKpC,YAA5C,eACE,4CADF,cAEE,8BACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAE,KAAKE,KAAL,CAAWJ,IAAX,CAAgBpB,QAHzB,CAIE,QAAQ,CAAE,KAAKW,YAJjB,eAME,8BAAQ,KAAK,CAAC,EAAd,CAAiB,QAAQ,KAAzB,wBANF,CASG,KAAKa,KAAL,CAAWc,UAAX,CAAsBqB,GAAtB,CAA0B,SAACC,IAAD,CAAOC,CAAP,qBACzB,8BAAQ,GAAG,CAAEA,CAAb,CAAgB,KAAK,CAAED,IAAvB,EACGA,IADH,CADyB,EAA1B,CATH,CAFF,cAiBE,yBAAG,SAAS,CAAC,OAAb,EAAsB,KAAKpC,KAAL,CAAWgB,KAAX,CAAiBxC,QAAvC,CAjBF,CAmBG,KAAKwB,KAAL,CAAWe,KAAX,CAAiBT,MAAjB,eACC,qDACE,wCADF,cAEE,8BACE,SAAS,CAAC,cADZ,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAE,KAAKN,KAAL,CAAWJ,IAAX,CAAgBrB,IAHzB,CAIE,QAAQ,CAAE,KAAKY,YAJjB,eAME,8BAAQ,QAAQ,KAAhB,CAAiB,KAAK,CAAC,EAAvB,kBANF,CASG,KAAKa,KAAL,CAAWe,KAAX,CAAiBoB,GAAjB,CAAqB,SAAC5D,IAAD,CAAO8D,CAAP,qBACpB,8BAAQ,GAAG,CAAEA,CAAb,CAAgB,KAAK,CAAE9D,IAAI,CAACA,IAA5B,EACGA,IAAI,CAACA,IADR,CADoB,EAArB,CATH,CAFF,CApBJ,cAwCE,yCAxCF,cAyCE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,OAHd,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAE,KAAKyB,KAAL,CAAWJ,IAAX,CAAgBnB,KALzB,CAME,QAAQ,CAAE,KAAKU,YANjB,EAzCF,cAiDE,6CAjDF,cAkDE,6BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,WAHd,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAE,KAAKa,KAAL,CAAWJ,IAAX,CAAgBjB,QALzB,CAME,QAAQ,CAAE,KAAKQ,YANjB,EAlDF,cA0DE,6CA1DF,cA2DE,6BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,WAHd,CAIE,IAAI,CAAC,UAJP,CAKE,KAAK,CAAE,KAAKa,KAAL,CAAWJ,IAAX,CAAgBhB,QALzB,CAME,QAAQ,CAAE,KAAKO,YANjB,EA3DF,cAoEE,yCApEF,cAqEE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,OAHd,CAIE,IAAI,CAAC,OAJP,CAKE,KAAK,CAAE,KAAKa,KAAL,CAAWJ,IAAX,CAAgBlB,KALzB,CAME,QAAQ,CAAE,KAAKS,YANjB,EArEF,cA8EE,+CA9EF,cA+EE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,CAAE,KAAKA,YAJjB,EA/EF,cAsFE,6BACE,IAAI,CAAC,UADP,CAEE,QAAQ,CAAE,KAAKA,YAFjB,CAGE,IAAI,CAAC,mBAHP,EAtFF,cA2FE,uDA3FF,CA4FG,KAAKa,KAAL,CAAWJ,IAAX,CAAgBZ,iBAAhB,eACC,qDACE,2CADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,IAAI,CAAC,QAHP,CAIE,QAAQ,CAAE,KAAKG,YAJjB,EAFF,CA7FJ,cAuGE,8BAvGF,cAwGE,wCAxGF,cAyGE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,MAHd,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAE,KAAKa,KAAL,CAAWJ,IAAX,CAAgBX,IALzB,CAME,QAAQ,CAAE,KAAKE,YANjB,EAzGF,cAiHE,0CAjHF,cAkHE,6BACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,WAAW,CAAC,QAHd,CAIE,IAAI,CAAC,QAJP,CAKE,KAAK,CAAE,KAAKa,KAAL,CAAWJ,IAAX,CAAgB0C,MALzB,CAME,QAAQ,CAAE,KAAKnD,YANjB,EAlHF,cA0HE,8BA1HF,cA2HE,oBAAC,YAAD,EACE,YAAY,CAAE,KAAK4C,KAAL,CAAWd,YAD3B,CAEE,WAAW,CAAE,KAAKjB,KAAL,CAAWkB,WAF1B,EA3HF,CAFF,CADF,CAdF,CAqJA,MAAOc,CAAAA,WAAP,CACD,CAvRH,2BAAmC/D,SAAnC","sourcesContent":["import React, { Component } from \"react\";\nimport SubmitButton from \"../../common/submitButton/submitButton.component\";\nimport httpClient from \"../../util/httpClient\";\nimport notify from \"../../util/notify\";\nimport { SingleProduct } from \"../singleProduct/singleProduct.component\";\n\nconst defaultForm = {\n  name: \"\",\n  category: \"\",\n  brand: \"\",\n  color: \"\",\n  minPrice: \"\",\n  maxPrice: \"\",\n  fromDate: \"\",\n  toDate: \"\",\n  discountedItem: \"\",\n  multipleDateRange: \"\",\n  tags: \"\",\n};\n\nexport class SearchProduct extends Component {\n  constructor() {\n    super();\n    this.state = {\n      allProducts: [],\n      categories: [],\n      names: [],\n      searchResult: [],\n      data: { ...defaultForm },\n      error: { ...defaultForm },\n      isSubmitting: false,\n      isValidForm: false,\n    };\n  }\n\n  componentDidMount() {\n    httpClient\n      .POST(\"/product/search\", {})\n      .then((response) => {\n        let categories = [];\n\n        //unique categories\n        response.data.forEach((product) => {\n          if (categories.indexOf(product.category) === -1) {\n            categories.push(product.category);\n          }\n        });\n        this.setState({\n          allProducts: response.data,\n          categories,\n        });\n      })\n      .catch((err) => {\n        notify.handleError(err);\n      });\n  }\n\n  buildNameOptions(selectedCategory) {\n    let names = this.state.allProducts.filter(\n      (product) => product.category === selectedCategory\n    );\n    this.setState({\n      names,\n    });\n  }\n\n  handleChange = (e) => {\n    let { type, name, value, checked } = e.target;\n    if (type === \"checkbox\") {\n      value = checked;\n    }\n\n    if (name === \"category\") {\n      this.buildNameOptions(value);\n    }\n\n    this.setState(\n      (preState) => ({\n        data: {\n          ...preState.data,\n          [name]: value,\n        },\n      }),\n      () => {\n        this.validateForm(name);\n      }\n    );\n  };\n  validateForm(fieldName) {\n    let errMsg;\n    switch (fieldName) {\n      case \"category\":\n        errMsg = this.state.data[fieldName] ? \"\" : \"Required Field*\";\n        break;\n\n      default:\n        break;\n    }\n    this.setState(\n      (preState) => ({\n        error: {\n          ...preState.error,\n          [fieldName]: errMsg,\n        },\n      }),\n      () => {\n        let errors = Object.values(this.state.error).filter((err) => err);\n        this.setState({\n          isValidForm: errors.length === 0,\n        });\n      }\n    );\n  }\n\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    //search\n    const { data } = this.state;\n    if (!data.multipleDateRange) {\n      data.toDate = data.fromDate;\n    }\n    httpClient\n      .GET(\"/product/search\", false, data)\n      .then((response) => {\n        console.log(\"search result is response\", response);\n        if (!response.data.length) {\n          return notify.showInfo(\"No any product matched your search query\");\n        }\n        this.setState({\n          searchResult: response.data,\n        });\n      })\n      .catch((err) => {\n        notify.handleError(err);\n      });\n  };\n\n  reset = () => {\n    this.setState({\n      searchResult: [],\n    });\n  };\n\n  render() {\n\n    console.log('props history', this.props);\n    console.log('incoming data>>', this.state);\n\n    let mainContent = this.state.searchResult.length ? (\n      <>\n        {/* <ViewProduct\n          incomingData={this.state.searchResult}\n          resetSearch={this.reset}\n          history={this.props.history}\n        /> */}\n        <SingleProduct \n          incomingData={this.state.searchResult}\n          resetSearch={this.reset}\n          history={this.props.history}\n        />\n      </>\n    ) : (\n      <>\n        <div className=\"container\" style={{marginTop:90 + \"px\"}}>\n          <h2>Search Products Here</h2>\n          <form className=\"form-group\" onSubmit={this.handleSubmit}>\n            <label>Category</label>\n            <select\n              className=\"form-control\"\n              name=\"category\"\n              value={this.state.data.category}\n              onChange={this.handleChange}\n            >\n              <option value=\"\" selected>\n                (Selected Category)\n              </option>\n              {this.state.categories.map((item, i) => (\n                <option key={i} value={item}>\n                  {item}\n                </option>\n              ))}\n            </select>\n            <p className=\"error\">{this.state.error.category}</p>\n\n            {this.state.names.length && (\n              <>\n                <label>Name</label>\n                <select\n                  className=\"form-control\"\n                  name=\"name\"\n                  value={this.state.data.name}\n                  onChange={this.handleChange}\n                >\n                  <option selected value=\"\">\n                    (Select Name)\n                  </option>\n                  {this.state.names.map((name, i) => (\n                    <option key={i} value={name.name}>\n                      {name.name}\n                    </option>\n                  ))}\n                </select>\n              </>\n            )}\n\n            <label>Brand</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Brand\"\n              name=\"brand\"\n              value={this.state.data.brand}\n              onChange={this.handleChange}\n            ></input>\n            <label>Min Price</label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              placeholder=\"Min Price\"\n              name=\"minPrice\"\n              value={this.state.data.minPrice}\n              onChange={this.handleChange}\n            ></input>\n            <label>Max Price</label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              placeholder=\"Max Price\"\n              name=\"maxPrice\"\n              value={this.state.data.maxPrice}\n              onChange={this.handleChange}\n            ></input>\n\n            <label>Color</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Color\"\n              name=\"color\"\n              value={this.state.data.color}\n              onChange={this.handleChange}\n            ></input>\n\n            <label>Select Date</label>\n            <input\n              type=\"date\"\n              className=\"form-control\"\n              name=\"fromDate\"\n              onChange={this.handleChange}\n            ></input>\n\n            <input\n              type=\"checkbox\"\n              onChange={this.handleChange}\n              name=\"multipleDateRange\"\n            />\n            <label>Multiple Date Range</label>\n            {this.state.data.multipleDateRange && (\n              <>\n                <label>To Date</label>\n                <input\n                  type=\"date\"\n                  className=\"form-control\"\n                  name=\"toDate\"\n                  onChange={this.handleChange}\n                ></input>\n              </>\n            )}\n            <br />\n            <label>Tags</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Tags\"\n              name=\"tags\"\n              value={this.state.data.tags}\n              onChange={this.handleChange}\n            ></input>\n            <label>Weight</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Weight\"\n              name=\"weight\"\n              value={this.state.data.weight}\n              onChange={this.handleChange}\n            ></input>\n            <br />\n            <SubmitButton\n              isSubmitting={this.props.isSubmitting}\n              isValidForm={this.state.isValidForm}\n            />\n          </form>\n        </div>\n      </>\n    );\n\n    return mainContent;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}