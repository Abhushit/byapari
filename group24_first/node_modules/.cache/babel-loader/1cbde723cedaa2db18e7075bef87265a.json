{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/react_1/group24_first/src/components/common/slider/sliderForm.component.js\";\nimport React, { Component } from \"react\";\nimport notify from \"../../util/notify\";\nimport Axios from \"axios\";\nconst BaseURL = process.env.REACT_APP_BASE_URL;\nconst myAxios = Axios.create({\n  baseURL: BaseURL,\n  responseType: \"json\" // contentType: \"application/json\",\n  // [\"Authorization\"]: localStorage.getItem('token')\n\n});\nconst defaultForm = {\n  sliderImage1: \"\",\n  sliderImage2: \"\",\n  sliderImage3: \"\",\n  sliderImage4: \"\"\n};\nexport class SliderForm extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      let {\n        files\n      } = e.target;\n      console.log(\"files upload results are>>> \", files); // const { fileUpload } = this.state;\n      // fileUpload.push(...files);\n      // return this.setState({\n      //   fileUpload,\n      // });\n\n      return this.setState({\n        filesToUpload: [...this.state.filesToUpload, ...files]\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(\"file uploaded are>>\", files);\n      const fd = new FormData();\n      fd.append(\"sliderImg\", this.state.fileUpload[0], this.state.fileUpload[0].name);\n      console.log(\"form data is >>>\", fd);\n      myAxios.post(\"/slider\", fd).then(response => {\n        notify.showSuccess(\"Slider Added Successfully\");\n      }).catch(err => {\n        notify.handleError(err);\n      });\n    };\n\n    this.state = {\n      data: { ...defaultForm\n      },\n      fileUpload: []\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, \"Slider Details :\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group\",\n      onSubmit: this.handleSubmit,\n      encType: \"multipart/form-data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    }, \"Slider Image 1\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"sliderImage1\",\n      onChange: this.handleChange,\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"submit\")));\n  }\n\n}","map":{"version":3,"sources":["/opt/lampp/htdocs/react_1/group24_first/src/components/common/slider/sliderForm.component.js"],"names":["React","Component","notify","Axios","BaseURL","process","env","REACT_APP_BASE_URL","myAxios","create","baseURL","responseType","defaultForm","sliderImage1","sliderImage2","sliderImage3","sliderImage4","SliderForm","constructor","handleChange","e","files","target","console","log","setState","filesToUpload","state","handleSubmit","preventDefault","fd","FormData","append","fileUpload","name","post","then","response","showSuccess","catch","err","handleError","data","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport notify from \"../../util/notify\";\nimport Axios from \"axios\";\n\nconst BaseURL = process.env.REACT_APP_BASE_URL;\n\nconst myAxios = Axios.create({\n  baseURL: BaseURL,\n  responseType: \"json\",\n  // contentType: \"application/json\",\n  // [\"Authorization\"]: localStorage.getItem('token')\n});\n\nconst defaultForm = {\n  sliderImage1: \"\",\n  sliderImage2: \"\",\n  sliderImage3: \"\",\n  sliderImage4: \"\",\n};\nexport class SliderForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        ...defaultForm,\n      },\n      fileUpload: [],\n    };\n  }\n\n  componentDidMount() {}\n\n  handleChange = (e) => {\n    let { files } = e.target;\n    console.log(\"files upload results are>>> \", files);\n\n    // const { fileUpload } = this.state;\n    // fileUpload.push(...files);\n    // return this.setState({\n    //   fileUpload,\n    // });\n    return this.setState({\n      filesToUpload: [...this.state.filesToUpload, ...files],\n    });\n  };\n  handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"file uploaded are>>\", files);\n    const fd = new FormData();\n    fd.append(\n      \"sliderImg\",\n      this.state.fileUpload[0],\n      this.state.fileUpload[0].name\n    );\n\n    console.log(\"form data is >>>\", fd);\n\n    myAxios\n      .post(\"/slider\", fd)\n      .then((response) => {\n        notify.showSuccess(\"Slider Added Successfully\");\n      })\n      .catch((err) => {\n        notify.handleError(err);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h2>Slider Details :</h2>\n        <form\n          className=\"form-group\"\n          onSubmit={this.handleSubmit}\n          encType=\"multipart/form-data\"\n        >\n          <label>Slider Image 1</label>\n          <input\n            type=\"file\"\n            name=\"sliderImage1\"\n            onChange={this.handleChange}\n            className=\"form-control\"\n          />\n\n          {/* <label>Slider Image 2</label>\n          <input\n            type=\"file\"\n            name=\"sliderImage2\"\n            onChange={this.handleChange}\n            className=\"form-control\"\n          />\n          <label>Slider Image 3</label>\n          <input\n            type=\"file\"\n            name=\"sliderImage3\"\n            onChange={this.handleChange}\n            className=\"form-control\"\n          />\n          <label>Slider Image 4</label>\n          <input\n            type=\"file\"\n            name=\"sliderImage4\"\n            onChange={this.handleChange}\n            className=\"form-control\"\n          /> */}\n          <br />\n          <button className=\"btn btn-primary\" type=\"submit\">\n            submit\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}